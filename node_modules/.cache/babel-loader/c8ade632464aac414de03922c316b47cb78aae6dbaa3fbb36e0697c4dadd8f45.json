{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useAuth}from'../../contexts/AuthContext';import{useDataMigration}from'../../utils/dataMigration';import{Button}from'../ui/Button';import{LoadingSpinner}from'../ui/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const DataMigrationModal=_ref=>{let{isOpen,onClose,onComplete}=_ref;const{currentUser}=useAuth();const[hasExistingData,setHasExistingData]=useState(null);const[stats,setStats]=useState(null);const[showConfirmation,setShowConfirmation]=useState(false);const{migrationProgress,isMigrating,startMigration,checkExistingData,getStats}=useDataMigration((currentUser===null||currentUser===void 0?void 0:currentUser.id)||'');useEffect(()=>{if(isOpen&&currentUser){loadMigrationData();}},[isOpen,currentUser]);const loadMigrationData=async()=>{try{const existingData=await checkExistingData();setHasExistingData(existingData);const migrationStats=await getStats();setStats(migrationStats);}catch(error){console.error('Error loading migration data:',error);}};const handleStartMigration=()=>{setShowConfirmation(true);};const handleConfirmMigration=async()=>{setShowConfirmation(false);await startMigration();};const handleCancelMigration=()=>{setShowConfirmation(false);};const handleComplete=()=>{onComplete();onClose();};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900\",children:\"Data Migration\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),hasExistingData===null?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"Checking existing data...\"})]}):hasExistingData?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-green-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 13l4 4L19 7\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:\"Data Already Migrated\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Your data has already been migrated to Firebase. You're all set!\"}),stats&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg p-4 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Accounts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:stats.firebaseAccounts})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Transactions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:stats.firebaseTransactions})]})]})}),/*#__PURE__*/_jsx(Button,{onClick:handleComplete,className:\"w-full\",children:\"Continue to Dashboard\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:\"Welcome to Firebase!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"To get started with real-time data synchronization, we need to migrate your sample data to Firebase.\"}),stats&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 rounded-lg p-4 mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-blue-900 mb-2\",children:\"Migration Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-700\",children:\"Sample Accounts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-blue-900\",children:stats.mockAccounts})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-700\",children:\"Sample Transactions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-blue-900\",children:stats.mockTransactions})]})]})]})]}),migrationProgress.status==='idle'&&!showConfirmation&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-yellow-800 text-sm\",children:\"This will create sample accounts and transactions in your Firebase database for demonstration purposes.\"})}),/*#__PURE__*/_jsx(Button,{onClick:handleStartMigration,className:\"w-full\",children:\"Start Migration\"})]}),showConfirmation&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-yellow-800 text-sm font-semibold mb-2\",children:\"Confirm Migration\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-yellow-800 text-sm\",children:[\"This will migrate \",stats===null||stats===void 0?void 0:stats.mockAccounts,\" accounts and \",stats===null||stats===void 0?void 0:stats.mockTransactions,\" transactions to your Firebase database. This action cannot be undone.\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(Button,{onClick:handleConfirmMigration,className:\"flex-1\",children:\"Confirm\"}),/*#__PURE__*/_jsx(Button,{onClick:handleCancelMigration,variant:\"outline\",className:\"flex-1\",children:\"Cancel\"})]})]}),migrationProgress.status==='migrating'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"Migrating data to Firebase...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Accounts: \",migrationProgress.accounts,\"/\",migrationProgress.totalAccounts]}),/*#__PURE__*/_jsxs(\"span\",{children:[Math.round(migrationProgress.accounts/migrationProgress.totalAccounts*100),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2 rounded-full transition-all duration-300\",style:{width:`${migrationProgress.accounts/migrationProgress.totalAccounts*100}%`}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Transactions: \",migrationProgress.transactions,\"/\",migrationProgress.totalTransactions]}),/*#__PURE__*/_jsxs(\"span\",{children:[Math.round(migrationProgress.transactions/migrationProgress.totalTransactions*100),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-600 h-2 rounded-full transition-all duration-300\",style:{width:`${migrationProgress.transactions/migrationProgress.totalTransactions*100}%`}})})]})]}),migrationProgress.status==='completed'&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-green-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 13l4 4L19 7\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:\"Migration Complete!\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-6\",children:[\"Successfully migrated \",migrationProgress.accounts,\" accounts and \",migrationProgress.transactions,\" transactions.\"]}),/*#__PURE__*/_jsx(Button,{onClick:handleComplete,className:\"w-full\",children:\"Continue to Dashboard\"})]}),migrationProgress.status==='error'&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-red-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:\"Migration Failed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:migrationProgress.error||'An error occurred during migration.'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(Button,{onClick:handleStartMigration,className:\"flex-1\",children:\"Try Again\"}),/*#__PURE__*/_jsx(Button,{onClick:onClose,variant:\"outline\",className:\"flex-1\",children:\"Close\"})]})]})]})]})})});};","map":{"version":3,"names":["React","useEffect","useState","useAuth","useDataMigration","Button","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","DataMigrationModal","_ref","isOpen","onClose","onComplete","currentUser","hasExistingData","setHasExistingData","stats","setStats","showConfirmation","setShowConfirmation","migrationProgress","isMigrating","startMigration","checkExistingData","getStats","id","loadMigrationData","existingData","migrationStats","error","console","handleStartMigration","handleConfirmMigration","handleCancelMigration","handleComplete","className","children","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","size","firebaseAccounts","firebaseTransactions","mockAccounts","mockTransactions","status","variant","accounts","totalAccounts","Math","round","style","width","transactions","totalTransactions"],"sources":["C:/Users/X2DHHWAN/Desktop/Finance-App/src/components/auth/DataMigrationModal.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { useDataMigration } from '../../utils/dataMigration';\r\nimport { Button } from '../ui/Button';\r\nimport { LoadingSpinner } from '../ui/LoadingSpinner';\r\n\r\ninterface DataMigrationModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onComplete: () => void;\r\n}\r\n\r\nexport const DataMigrationModal: React.FC<DataMigrationModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onComplete,\r\n}) => {\r\n  const { currentUser } = useAuth();\r\n  const [hasExistingData, setHasExistingData] = useState<boolean | null>(null);\r\n  const [stats, setStats] = useState<any>(null);\r\n  const [showConfirmation, setShowConfirmation] = useState(false);\r\n\r\n  const {\r\n    migrationProgress,\r\n    isMigrating,\r\n    startMigration,\r\n    checkExistingData,\r\n    getStats,\r\n  } = useDataMigration(currentUser?.id || '');\r\n\r\n  useEffect(() => {\r\n    if (isOpen && currentUser) {\r\n      loadMigrationData();\r\n    }\r\n  }, [isOpen, currentUser]);\r\n\r\n  const loadMigrationData = async () => {\r\n    try {\r\n      const existingData = await checkExistingData();\r\n      setHasExistingData(existingData);\r\n\r\n      const migrationStats = await getStats();\r\n      setStats(migrationStats);\r\n    } catch (error) {\r\n      console.error('Error loading migration data:', error);\r\n    }\r\n  };\r\n\r\n  const handleStartMigration = () => {\r\n    setShowConfirmation(true);\r\n  };\r\n\r\n  const handleConfirmMigration = async () => {\r\n    setShowConfirmation(false);\r\n    await startMigration();\r\n  };\r\n\r\n  const handleCancelMigration = () => {\r\n    setShowConfirmation(false);\r\n  };\r\n\r\n  const handleComplete = () => {\r\n    onComplete();\r\n    onClose();\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n      <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto\">\r\n        <div className=\"p-6\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <h2 className=\"text-xl font-bold text-gray-900\">\r\n              Data Migration\r\n            </h2>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-gray-400 hover:text-gray-600\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n\r\n          {hasExistingData === null ? (\r\n            <div className=\"text-center py-8\">\r\n              <LoadingSpinner size=\"lg\" />\r\n              <p className=\"mt-4 text-gray-600\">Checking existing data...</p>\r\n            </div>\r\n          ) : hasExistingData ? (\r\n            <div className=\"text-center py-8\">\r\n              <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                <svg className=\"w-8 h-8 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                </svg>\r\n              </div>\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\r\n                Data Already Migrated\r\n              </h3>\r\n              <p className=\"text-gray-600 mb-6\">\r\n                Your data has already been migrated to Firebase. You're all set!\r\n              </p>\r\n              {stats && (\r\n                <div className=\"bg-gray-50 rounded-lg p-4 mb-6\">\r\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                    <div>\r\n                      <p className=\"text-gray-600\">Accounts</p>\r\n                      <p className=\"font-semibold\">{stats.firebaseAccounts}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-gray-600\">Transactions</p>\r\n                      <p className=\"font-semibold\">{stats.firebaseTransactions}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              <Button onClick={handleComplete} className=\"w-full\">\r\n                Continue to Dashboard\r\n              </Button>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <div className=\"mb-6\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\r\n                  Welcome to Firebase!\r\n                </h3>\r\n                <p className=\"text-gray-600 mb-4\">\r\n                  To get started with real-time data synchronization, we need to migrate your sample data to Firebase.\r\n                </p>\r\n                {stats && (\r\n                  <div className=\"bg-blue-50 rounded-lg p-4 mb-4\">\r\n                    <h4 className=\"font-semibold text-blue-900 mb-2\">Migration Summary</h4>\r\n                    <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                      <div>\r\n                        <p className=\"text-blue-700\">Sample Accounts</p>\r\n                        <p className=\"font-semibold text-blue-900\">{stats.mockAccounts}</p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-blue-700\">Sample Transactions</p>\r\n                        <p className=\"font-semibold text-blue-900\">{stats.mockTransactions}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {migrationProgress.status === 'idle' && !showConfirmation && (\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\r\n                    <p className=\"text-yellow-800 text-sm\">\r\n                      This will create sample accounts and transactions in your Firebase database for demonstration purposes.\r\n                    </p>\r\n                  </div>\r\n                  <Button onClick={handleStartMigration} className=\"w-full\">\r\n                    Start Migration\r\n                  </Button>\r\n                </div>\r\n              )}\r\n\r\n              {showConfirmation && (\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\r\n                    <p className=\"text-yellow-800 text-sm font-semibold mb-2\">\r\n                      Confirm Migration\r\n                    </p>\r\n                    <p className=\"text-yellow-800 text-sm\">\r\n                      This will migrate {stats?.mockAccounts} accounts and {stats?.mockTransactions} transactions to your Firebase database. This action cannot be undone.\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"flex space-x-3\">\r\n                    <Button onClick={handleConfirmMigration} className=\"flex-1\">\r\n                      Confirm\r\n                    </Button>\r\n                    <Button onClick={handleCancelMigration} variant=\"outline\" className=\"flex-1\">\r\n                      Cancel\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {migrationProgress.status === 'migrating' && (\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"text-center\">\r\n                    <LoadingSpinner size=\"lg\" />\r\n                    <p className=\"mt-4 text-gray-600\">Migrating data to Firebase...</p>\r\n                  </div>\r\n                  <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                    <div className=\"flex justify-between text-sm mb-2\">\r\n                      <span>Accounts: {migrationProgress.accounts}/{migrationProgress.totalAccounts}</span>\r\n                      <span>{Math.round((migrationProgress.accounts / migrationProgress.totalAccounts) * 100)}%</span>\r\n                    </div>\r\n                    <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                      <div\r\n                        className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\r\n                        style={{ width: `${(migrationProgress.accounts / migrationProgress.totalAccounts) * 100}%` }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                    <div className=\"flex justify-between text-sm mb-2\">\r\n                      <span>Transactions: {migrationProgress.transactions}/{migrationProgress.totalTransactions}</span>\r\n                      <span>{Math.round((migrationProgress.transactions / migrationProgress.totalTransactions) * 100)}%</span>\r\n                    </div>\r\n                    <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                      <div\r\n                        className=\"bg-green-600 h-2 rounded-full transition-all duration-300\"\r\n                        style={{ width: `${(migrationProgress.transactions / migrationProgress.totalTransactions) * 100}%` }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {migrationProgress.status === 'completed' && (\r\n                <div className=\"text-center py-8\">\r\n                  <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                    <svg className=\"w-8 h-8 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                    </svg>\r\n                  </div>\r\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\r\n                    Migration Complete!\r\n                  </h3>\r\n                  <p className=\"text-gray-600 mb-6\">\r\n                    Successfully migrated {migrationProgress.accounts} accounts and {migrationProgress.transactions} transactions.\r\n                  </p>\r\n                  <Button onClick={handleComplete} className=\"w-full\">\r\n                    Continue to Dashboard\r\n                  </Button>\r\n                </div>\r\n              )}\r\n\r\n              {migrationProgress.status === 'error' && (\r\n                <div className=\"text-center py-8\">\r\n                  <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                    <svg className=\"w-8 h-8 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                    </svg>\r\n                  </div>\r\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\r\n                    Migration Failed\r\n                  </h3>\r\n                  <p className=\"text-gray-600 mb-4\">\r\n                    {migrationProgress.error || 'An error occurred during migration.'}\r\n                  </p>\r\n                  <div className=\"flex space-x-3\">\r\n                    <Button onClick={handleStartMigration} className=\"flex-1\">\r\n                      Try Again\r\n                    </Button>\r\n                    <Button onClick={onClose} variant=\"outline\" className=\"flex-1\">\r\n                      Close\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}