{"ast":null,"code":"import React from'react';import{TrendingUp,TrendingDown}from'lucide-react';import{useFinancial}from'../../contexts/FinancialContext';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export const KPICard=_ref=>{let{title,value,change,valueChange,isPositive,isCurrency=true,color='blue',trendData=[],period='month'}=_ref;const{isPrivacyMode}=useFinancial();const colorClasses={red:'text-red-600',green:'text-green-600',blue:'text-blue-600',purple:'text-purple-600'};const strokeColors={red:'#ef4444',green:'#22c55e',blue:'#3b82f6',purple:'#a855f7'};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow-sm border hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mb-1\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-xs font-medium text-gray-600\",children:title})}),/*#__PURE__*/_jsx(\"p\",{className:`text-xl font-bold mb-1 ${colorClasses[color]}`,children:isPrivacyMode?/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[isCurrency?'$':'',Math.abs(value).toLocaleString('en-US',{minimumFractionDigits:isCurrency?2:0})]})}),trendData.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"h-6 mb-1 relative\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-full h-full\",viewBox:\"0 0 100 24\",children:(()=>{const maxVal=Math.max(...trendData);const minVal=Math.min(...trendData);const range=maxVal-minVal||1;const points=trendData.map((val,index)=>{const x=index/(trendData.length-1)*100;const y=24-(val-minVal)/range*18-3;return`${x},${y}`;}).join(' ');return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"polyline\",{fill:\"none\",stroke:strokeColors[color],strokeWidth:\"1.5\",points:points,className:\"drop-shadow-sm\"}),/*#__PURE__*/_jsx(\"circle\",{cx:trendData.length>1?100:50,cy:trendData.length>1?24-(trendData[trendData.length-1]-minVal)/range*18-3:12,r:\"1.5\",fill:strokeColors[color],className:\"drop-shadow-sm\"})]});})()})}),/*#__PURE__*/_jsxs(\"div\",{className:`flex items-center text-xs ${isPositive?'text-green-600':'text-red-600'}`,children:[change>=0?/*#__PURE__*/_jsx(TrendingUp,{className:\"w-3 h-3 mr-1\"}):/*#__PURE__*/_jsx(TrendingDown,{className:\"w-3 h-3 mr-1\"}),/*#__PURE__*/_jsxs(\"span\",{children:[change>=0?'+':'',change.toFixed(1),\"%\",valueChange!==undefined&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-1\",children:[\"(\",valueChange>=0?'+':'',\"$\",Math.abs(valueChange).toLocaleString('en-US',{minimumFractionDigits:2}),\")\"]}),' vs last ',period]})]})]});};","map":{"version":3,"names":["React","TrendingUp","TrendingDown","useFinancial","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","KPICard","_ref","title","value","change","valueChange","isPositive","isCurrency","color","trendData","period","isPrivacyMode","colorClasses","red","green","blue","purple","strokeColors","className","children","Math","abs","toLocaleString","minimumFractionDigits","length","viewBox","maxVal","max","minVal","min","range","points","map","val","index","x","y","join","fill","stroke","strokeWidth","cx","cy","r","toFixed","undefined"],"sources":["C:/Users/dliz1/Desktop/FinanceApp/src/components/ui/KPICard.tsx"],"sourcesContent":["import React from 'react';\nimport { TrendingUp, TrendingDown } from 'lucide-react';\nimport { useFinancial } from '../../contexts/FinancialContext';\n\ninterface KPICardProps {\n  title: string;\n  value: number;\n  change: number;\n  valueChange?: number; // Dollar value change\n  isPositive: boolean;\n  isCurrency?: boolean;\n  color?: 'red' | 'green' | 'blue' | 'purple';\n  trendData?: number[];\n  period?: string;\n}\n\nexport const KPICard: React.FC<KPICardProps> = ({\n  title,\n  value,\n  change,\n  valueChange,\n  isPositive,\n  isCurrency = true,\n  color = 'blue',\n  trendData = [],\n  period = 'month',\n}) => {\n  const { isPrivacyMode } = useFinancial();\n\n  const colorClasses = {\n    red: 'text-red-600',\n    green: 'text-green-600',\n    blue: 'text-blue-600',\n    purple: 'text-purple-600',\n  };\n\n  const strokeColors = {\n    red: '#ef4444',\n    green: '#22c55e',\n    blue: '#3b82f6',\n    purple: '#a855f7',\n  };\n\n  return (\n    <div className=\"bg-white p-4 rounded-lg shadow-sm border hover:shadow-md transition-shadow\">\n      <div className=\"flex items-center justify-between mb-1\">\n        <h3 className=\"text-xs font-medium text-gray-600\">{title}</h3>\n      </div>\n\n      <p className={`text-xl font-bold mb-1 ${colorClasses[color]}`}>\n        {isPrivacyMode ? (\n          <span className=\"text-gray-400\">••••••</span>\n        ) : (\n          <>\n            {isCurrency ? '$' : ''}\n            {Math.abs(value).toLocaleString('en-US', {\n              minimumFractionDigits: isCurrency ? 2 : 0,\n            })}\n          </>\n        )}\n      </p>\n\n      {/* Mini Trend Chart */}\n      {trendData.length > 0 && (\n        <div className=\"h-6 mb-1 relative\">\n          <svg className=\"w-full h-full\" viewBox=\"0 0 100 24\">\n            {(() => {\n              const maxVal = Math.max(...trendData);\n              const minVal = Math.min(...trendData);\n              const range = maxVal - minVal || 1;\n\n              const points = trendData\n                .map((val, index) => {\n                  const x = (index / (trendData.length - 1)) * 100;\n                  const y = 24 - ((val - minVal) / range) * 18 - 3;\n                  return `${x},${y}`;\n                })\n                .join(' ');\n\n              return (\n                <>\n                  <polyline\n                    fill=\"none\"\n                    stroke={strokeColors[color]}\n                    strokeWidth=\"1.5\"\n                    points={points}\n                    className=\"drop-shadow-sm\"\n                  />\n                  <circle\n                    cx={trendData.length > 1 ? 100 : 50}\n                    cy={\n                      trendData.length > 1\n                        ? 24 -\n                          ((trendData[trendData.length - 1] - minVal) / range) *\n                            18 -\n                          3\n                        : 12\n                    }\n                    r=\"1.5\"\n                    fill={strokeColors[color]}\n                    className=\"drop-shadow-sm\"\n                  />\n                </>\n              );\n            })()}\n          </svg>\n        </div>\n      )}\n\n      {/* Change Indicator */}\n      <div\n        className={`flex items-center text-xs ${\n          isPositive ? 'text-green-600' : 'text-red-600'\n        }`}\n      >\n        {change >= 0 ? (\n          <TrendingUp className=\"w-3 h-3 mr-1\" />\n        ) : (\n          <TrendingDown className=\"w-3 h-3 mr-1\" />\n        )}\n        <span>\n          {change >= 0 ? '+' : ''}\n          {change.toFixed(1)}%\n          {valueChange !== undefined && (\n            <span className=\"ml-1\">\n              ({valueChange >= 0 ? '+' : ''}$\n              {Math.abs(valueChange).toLocaleString('en-US', {\n                minimumFractionDigits: 2,\n              })}\n              )\n            </span>\n          )}\n          {' vs last '}\n          {period}\n        </span>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,UAAU,CAAEC,YAAY,KAAQ,cAAc,CACvD,OAASC,YAAY,KAAQ,iCAAiC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAc/D,MAAO,MAAM,CAAAC,OAA+B,CAAGC,IAAA,EAUzC,IAV0C,CAC9CC,KAAK,CACLC,KAAK,CACLC,MAAM,CACNC,WAAW,CACXC,UAAU,CACVC,UAAU,CAAG,IAAI,CACjBC,KAAK,CAAG,MAAM,CACdC,SAAS,CAAG,EAAE,CACdC,MAAM,CAAG,OACX,CAAC,CAAAT,IAAA,CACC,KAAM,CAAEU,aAAc,CAAC,CAAGlB,YAAY,CAAC,CAAC,CAExC,KAAM,CAAAmB,YAAY,CAAG,CACnBC,GAAG,CAAE,cAAc,CACnBC,KAAK,CAAE,gBAAgB,CACvBC,IAAI,CAAE,eAAe,CACrBC,MAAM,CAAE,iBACV,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,CACnBJ,GAAG,CAAE,SAAS,CACdC,KAAK,CAAE,SAAS,CAChBC,IAAI,CAAE,SAAS,CACfC,MAAM,CAAE,SACV,CAAC,CAED,mBACEjB,KAAA,QAAKmB,SAAS,CAAC,4EAA4E,CAAAC,QAAA,eACzFxB,IAAA,QAAKuB,SAAS,CAAC,wCAAwC,CAAAC,QAAA,cACrDxB,IAAA,OAAIuB,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAEjB,KAAK,CAAK,CAAC,CAC3D,CAAC,cAENP,IAAA,MAAGuB,SAAS,CAAE,0BAA0BN,YAAY,CAACJ,KAAK,CAAC,EAAG,CAAAW,QAAA,CAC3DR,aAAa,cACZhB,IAAA,SAAMuB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,sCAAM,CAAM,CAAC,cAE7CpB,KAAA,CAAAF,SAAA,EAAAsB,QAAA,EACGZ,UAAU,CAAG,GAAG,CAAG,EAAE,CACrBa,IAAI,CAACC,GAAG,CAAClB,KAAK,CAAC,CAACmB,cAAc,CAAC,OAAO,CAAE,CACvCC,qBAAqB,CAAEhB,UAAU,CAAG,CAAC,CAAG,CAC1C,CAAC,CAAC,EACF,CACH,CACA,CAAC,CAGHE,SAAS,CAACe,MAAM,CAAG,CAAC,eACnB7B,IAAA,QAAKuB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChCxB,IAAA,QAAKuB,SAAS,CAAC,eAAe,CAACO,OAAO,CAAC,YAAY,CAAAN,QAAA,CAChD,CAAC,IAAM,CACN,KAAM,CAAAO,MAAM,CAAGN,IAAI,CAACO,GAAG,CAAC,GAAGlB,SAAS,CAAC,CACrC,KAAM,CAAAmB,MAAM,CAAGR,IAAI,CAACS,GAAG,CAAC,GAAGpB,SAAS,CAAC,CACrC,KAAM,CAAAqB,KAAK,CAAGJ,MAAM,CAAGE,MAAM,EAAI,CAAC,CAElC,KAAM,CAAAG,MAAM,CAAGtB,SAAS,CACrBuB,GAAG,CAAC,CAACC,GAAG,CAAEC,KAAK,GAAK,CACnB,KAAM,CAAAC,CAAC,CAAID,KAAK,EAAIzB,SAAS,CAACe,MAAM,CAAG,CAAC,CAAC,CAAI,GAAG,CAChD,KAAM,CAAAY,CAAC,CAAG,EAAE,CAAI,CAACH,GAAG,CAAGL,MAAM,EAAIE,KAAK,CAAI,EAAE,CAAG,CAAC,CAChD,MAAO,GAAGK,CAAC,IAAIC,CAAC,EAAE,CACpB,CAAC,CAAC,CACDC,IAAI,CAAC,GAAG,CAAC,CAEZ,mBACEtC,KAAA,CAAAF,SAAA,EAAAsB,QAAA,eACExB,IAAA,aACE2C,IAAI,CAAC,MAAM,CACXC,MAAM,CAAEtB,YAAY,CAACT,KAAK,CAAE,CAC5BgC,WAAW,CAAC,KAAK,CACjBT,MAAM,CAAEA,MAAO,CACfb,SAAS,CAAC,gBAAgB,CAC3B,CAAC,cACFvB,IAAA,WACE8C,EAAE,CAAEhC,SAAS,CAACe,MAAM,CAAG,CAAC,CAAG,GAAG,CAAG,EAAG,CACpCkB,EAAE,CACAjC,SAAS,CAACe,MAAM,CAAG,CAAC,CAChB,EAAE,CACD,CAACf,SAAS,CAACA,SAAS,CAACe,MAAM,CAAG,CAAC,CAAC,CAAGI,MAAM,EAAIE,KAAK,CACjD,EAAE,CACJ,CAAC,CACD,EACL,CACDa,CAAC,CAAC,KAAK,CACPL,IAAI,CAAErB,YAAY,CAACT,KAAK,CAAE,CAC1BU,SAAS,CAAC,gBAAgB,CAC3B,CAAC,EACF,CAAC,CAEP,CAAC,EAAE,CAAC,CACD,CAAC,CACH,CACN,cAGDnB,KAAA,QACEmB,SAAS,CAAE,6BACTZ,UAAU,CAAG,gBAAgB,CAAG,cAAc,EAC7C,CAAAa,QAAA,EAEFf,MAAM,EAAI,CAAC,cACVT,IAAA,CAACJ,UAAU,EAAC2B,SAAS,CAAC,cAAc,CAAE,CAAC,cAEvCvB,IAAA,CAACH,YAAY,EAAC0B,SAAS,CAAC,cAAc,CAAE,CACzC,cACDnB,KAAA,SAAAoB,QAAA,EACGf,MAAM,EAAI,CAAC,CAAG,GAAG,CAAG,EAAE,CACtBA,MAAM,CAACwC,OAAO,CAAC,CAAC,CAAC,CAAC,GACnB,CAACvC,WAAW,GAAKwC,SAAS,eACxB9C,KAAA,SAAMmB,SAAS,CAAC,MAAM,CAAAC,QAAA,EAAC,GACpB,CAACd,WAAW,EAAI,CAAC,CAAG,GAAG,CAAG,EAAE,CAAC,GAC9B,CAACe,IAAI,CAACC,GAAG,CAAChB,WAAW,CAAC,CAACiB,cAAc,CAAC,OAAO,CAAE,CAC7CC,qBAAqB,CAAE,CACzB,CAAC,CAAC,CAAC,GAEL,EAAM,CACP,CACA,WAAW,CACXb,MAAM,EACH,CAAC,EACJ,CAAC,EACH,CAAC,CAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}