{"ast":null,"code":"import React,{Suspense,useState}from'react';import{useFinancial}from'../../contexts/FinancialContext';import{DashboardHeader}from'./DashboardHeader';import{DEFAULT_PERIODS}from'../../constants/financial';import{Button}from'../ui/Button';import{FullScreenSpinner,InlineSpinner}from'../ui/LoadingSpinner';import{Building,Plus}from'lucide-react';import{ChartContainer}from'../charts';import{useCharts}from'../../hooks/useCharts';import{useDashboardData}from'../../hooks/useDashboardData';import{useBudget}from'../../hooks/useBudget';// Lazy load components for code splitting\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AccountDetail=/*#__PURE__*/React.lazy(()=>import('../accounts/AccountDetail').then(module=>({default:module.AccountDetail})));const KPISection=/*#__PURE__*/React.lazy(()=>import('./KPISection').then(module=>({default:module.KPISection})));const AccountOverview=/*#__PURE__*/React.lazy(()=>import('./AccountOverview').then(module=>({default:module.AccountOverview})));const RecentActivity=/*#__PURE__*/React.lazy(()=>import('./RecentActivity').then(module=>({default:module.RecentActivity})));const BudgetOverview=/*#__PURE__*/React.lazy(()=>import('../budget/BudgetOverview').then(module=>({default:module.BudgetOverview})));const BudgetForm=/*#__PURE__*/React.lazy(()=>import('../budget/BudgetForm').then(module=>({default:module.BudgetForm})));export const Dashboard=()=>{const{state,viewAccountDetail,accountFilter,changePeriod}=useFinancial();// Budget management state\nconst[showBudgetForm,setShowBudgetForm]=useState(false);const[selectedBudget,setSelectedBudget]=useState(null);// Use budget hook\nconst{budgets}=useBudget();// Use consolidated dashboard data hook\nconst dashboardData=useDashboardData({accounts:state.accounts,accountFilter,selectedPeriod:state.selectedPeriod,customDateRange:state.customDateRange,isLoading:state.isLoading});const{filteredAccounts,filteredSummary,trendData,allTransactions,hasAccounts}=dashboardData;const isLoading=state.isLoading;// Use charts hook\nconst{isExporting,exportError,handleExportTransactions,handleExportSummary,refreshCharts}=useCharts(allTransactions,filteredAccounts,state.selectedPeriod,state.filters);// Check if we're in demo mode\nconst isDemoMode=localStorage.getItem('financeapp-demo-mode')==='true'||new URLSearchParams(window.location.search).get('demo')==='true';// Add routing logic for account-detail screen with lazy loading\nif(state.currentScreen==='account-detail'){return/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(FullScreenSpinner,{text:\"Loading Account Details...\"}),children:/*#__PURE__*/_jsx(AccountDetail,{})});}// Loading state\nif(isLoading){return/*#__PURE__*/_jsx(FullScreenSpinner,{text:\"Loading your financial data...\"});}// Empty state - no accounts connected\nif(!hasAccounts){return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(DashboardHeader,{}),/*#__PURE__*/_jsxs(\"main\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Building,{className:\"w-16 h-16 mx-auto mb-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"Welcome to FinanceApp\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-8 max-w-md mx-auto\",children:\"Connect your bank accounts to get started with smart financial management. We'll help you track spending, categorize transactions, and gain insights into your financial health.\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>alert('Bank connection coming soon!'),children:\"Connect Your First Account\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-16 grid grid-cols-1 md:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83D\\uDCCA\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:\"Smart Analytics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Get insights into your spending patterns and financial trends with interactive charts and KPIs.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83C\\uDFAF\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:\"Budget Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Set budgets, track spending, and get alerts when you're approaching your limits.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83D\\uDD12\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:\"Secure & Private\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Your data is protected with 256-bit encryption and industry-leading security practices.\"})]})]})]})]});}// Main dashboard with data\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(DashboardHeader,{}),/*#__PURE__*/_jsxs(\"main\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[isDemoMode&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg p-4 shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83C\\uDFAF\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-lg\",children:\"Demo Mode Active\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-100 text-sm\",children:\"You're viewing sample data. Sign in to connect your real accounts.\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{localStorage.removeItem('financeapp-demo-mode');window.location.href='/';},className:\"bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg text-sm font-medium transition-colors\",children:\"Sign In\"})]})}),state.error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 bg-red-50 border border-red-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-red-400\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-800\",children:state.error})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mb-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-1 bg-gray-100 rounded-lg p-1\",children:DEFAULT_PERIODS.map(period=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(period==='custom'){// Handle custom date picker\nalert('Custom date picker coming soon!');}else{changePeriod(period);}},className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${state.selectedPeriod===period?'bg-white shadow-sm text-blue-600':'text-gray-600 hover:text-gray-800'}`,children:period==='day'?'D':period==='week'?'W':period==='month'?'M':period==='quarter'?'Q':period==='year'?'Y':period==='5year'?'5Y':period==='custom'?'Custom':period},period))})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(InlineSpinner,{}),children:/*#__PURE__*/_jsx(KPISection,{summary:filteredSummary,totalBalance:filteredSummary.totalBalance,period:state.selectedPeriod,budgets:budgets,balanceTrend:trendData===null||trendData===void 0?void 0:trendData.balance,incomeTrend:trendData===null||trendData===void 0?void 0:trendData.income,expenseTrend:trendData===null||trendData===void 0?void 0:trendData.expenses,savingsTrend:trendData===null||trendData===void 0?void 0:trendData.savings})})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(InlineSpinner,{}),children:/*#__PURE__*/_jsx(AccountOverview,{accounts:filteredAccounts,onAccountSelect:viewAccountDetail,accountFilter:accountFilter})})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(ChartContainer,{transactions:allTransactions,accounts:filteredAccounts,period:state.selectedPeriod,budgets:budgets,loading:isLoading,error:state.error,onExport:handleExportTransactions,onRefresh:refreshCharts})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:\"Budget Management\"}),/*#__PURE__*/_jsxs(Button,{onClick:()=>setShowBudgetForm(true),className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add Budget\"})]})]}),/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(InlineSpinner,{}),children:/*#__PURE__*/_jsx(BudgetOverview,{onBudgetSelect:setSelectedBudget})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(InlineSpinner,{}),children:/*#__PURE__*/_jsx(RecentActivity,{accounts:filteredAccounts,limit:10})})})]}),showBudgetForm&&/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(FullScreenSpinner,{text:\"Loading Budget Form...\"}),children:/*#__PURE__*/_jsx(BudgetForm,{budget:selectedBudget,onSave:budget=>{// TODO: Save budget\nsetShowBudgetForm(false);},onCancel:()=>setShowBudgetForm(false),isOpen:showBudgetForm})})]});};","map":{"version":3,"names":["React","Suspense","useState","useFinancial","DashboardHeader","DEFAULT_PERIODS","Button","FullScreenSpinner","InlineSpinner","Building","Plus","ChartContainer","useCharts","useDashboardData","useBudget","jsx","_jsx","jsxs","_jsxs","AccountDetail","lazy","then","module","default","KPISection","AccountOverview","RecentActivity","BudgetOverview","BudgetForm","Dashboard","state","viewAccountDetail","accountFilter","changePeriod","showBudgetForm","setShowBudgetForm","selectedBudget","setSelectedBudget","budgets","dashboardData","accounts","selectedPeriod","customDateRange","isLoading","filteredAccounts","filteredSummary","trendData","allTransactions","hasAccounts","isExporting","exportError","handleExportTransactions","handleExportSummary","refreshCharts","filters","isDemoMode","localStorage","getItem","URLSearchParams","window","location","search","get","currentScreen","fallback","text","children","className","onClick","alert","removeItem","href","error","viewBox","fill","fillRule","d","clipRule","map","period","summary","totalBalance","balanceTrend","balance","incomeTrend","income","expenseTrend","expenses","savingsTrend","savings","onAccountSelect","transactions","loading","onExport","onRefresh","onBudgetSelect","limit","budget","onSave","onCancel","isOpen"],"sources":["C:/Users/X2DHHWAN/Desktop/Finance-App/src/components/dashboard/Dashboard.tsx"],"sourcesContent":["import React, { Suspense, useState } from 'react';\r\nimport { useFinancial } from '../../contexts/FinancialContext';\r\nimport { Budget } from '../../types/financial';\r\nimport { DashboardHeader } from './DashboardHeader';\r\nimport { DEFAULT_PERIODS } from '../../constants/financial';\r\nimport { Button } from '../ui/Button';\r\nimport { FullScreenSpinner, InlineSpinner } from '../ui/LoadingSpinner';\r\nimport {\r\n  Building,\r\n  Plus,\r\n  Upload,\r\n  Download,\r\n} from 'lucide-react';\r\nimport { ChartContainer } from '../charts';\r\nimport { useCharts } from '../../hooks/useCharts';\r\nimport { useDashboardData } from '../../hooks/useDashboardData';\r\nimport { useBudget } from '../../hooks/useBudget';\r\n\r\n// Lazy load components for code splitting\r\nconst AccountDetail = React.lazy(() => import('../accounts/AccountDetail').then(module => ({ default: module.AccountDetail })));\r\nconst KPISection = React.lazy(() => import('./KPISection').then(module => ({ default: module.KPISection })));\r\nconst AccountOverview = React.lazy(() => import('./AccountOverview').then(module => ({ default: module.AccountOverview })));\r\nconst RecentActivity = React.lazy(() => import('./RecentActivity').then(module => ({ default: module.RecentActivity })));\r\nconst BudgetOverview = React.lazy(() => import('../budget/BudgetOverview').then(module => ({ default: module.BudgetOverview })));\r\nconst BudgetForm = React.lazy(() => import('../budget/BudgetForm').then(module => ({ default: module.BudgetForm })));\r\n\r\nexport const Dashboard: React.FC = () => {\r\n  const {\r\n    state,\r\n    viewAccountDetail,\r\n    accountFilter,\r\n    changePeriod,\r\n  } = useFinancial();\r\n\r\n  // Budget management state\r\n  const [showBudgetForm, setShowBudgetForm] = useState(false);\r\n  const [selectedBudget, setSelectedBudget] = useState<Budget | null>(null);\r\n\r\n  // Use budget hook\r\n  const { budgets } = useBudget();\r\n\r\n  // Use consolidated dashboard data hook\r\n  const dashboardData = useDashboardData({\r\n    accounts: state.accounts,\r\n    accountFilter,\r\n    selectedPeriod: state.selectedPeriod,\r\n    customDateRange: state.customDateRange,\r\n    isLoading: state.isLoading,\r\n  });\r\n\r\n  const { filteredAccounts, filteredSummary, trendData, allTransactions, hasAccounts } = dashboardData;\r\n  const isLoading = state.isLoading;\r\n\r\n  // Use charts hook\r\n  const {\r\n    isExporting,\r\n    exportError,\r\n    handleExportTransactions,\r\n    handleExportSummary,\r\n    refreshCharts,\r\n  } = useCharts(allTransactions, filteredAccounts, state.selectedPeriod, state.filters);\r\n\r\n  // Check if we're in demo mode\r\n  const isDemoMode = localStorage.getItem('financeapp-demo-mode') === 'true' || \r\n                    new URLSearchParams(window.location.search).get('demo') === 'true';\r\n\r\n  // Add routing logic for account-detail screen with lazy loading\r\n  if (state.currentScreen === 'account-detail') {\r\n    return (\r\n      <Suspense fallback={<FullScreenSpinner text=\"Loading Account Details...\" />}>\r\n        <AccountDetail />\r\n      </Suspense>\r\n    );\r\n  }\r\n\r\n  // Loading state\r\n  if (isLoading) {\r\n    return <FullScreenSpinner text=\"Loading your financial data...\" />;\r\n  }\r\n\r\n  // Empty state - no accounts connected\r\n  if (!hasAccounts) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50\">\r\n        <DashboardHeader />\r\n        <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\r\n          <div className=\"text-center py-12\">\r\n            <Building className=\"w-16 h-16 mx-auto mb-4 text-gray-400\" />\r\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">\r\n              Welcome to FinanceApp\r\n            </h2>\r\n            <p className=\"text-gray-600 mb-8 max-w-md mx-auto\">\r\n              Connect your bank accounts to get started with smart financial\r\n              management. We'll help you track spending, categorize\r\n              transactions, and gain insights into your financial health.\r\n            </p>\r\n            <Button onClick={() => alert('Bank connection coming soon!')}>\r\n              Connect Your First Account\r\n            </Button>\r\n          </div>\r\n\r\n          {/* Feature Preview */}\r\n          <div className=\"mt-16 grid grid-cols-1 md:grid-cols-3 gap-8\">\r\n            <div className=\"text-center\">\r\n              <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-4\">\r\n                <span className=\"text-2xl\">ðŸ“Š</span>\r\n              </div>\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\r\n                Smart Analytics\r\n              </h3>\r\n              <p className=\"text-gray-600\">\r\n                Get insights into your spending patterns and financial trends\r\n                with interactive charts and KPIs.\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"text-center\">\r\n              <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4\">\r\n                <span className=\"text-2xl\">ðŸŽ¯</span>\r\n              </div>\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\r\n                Budget Management\r\n              </h3>\r\n              <p className=\"text-gray-600\">\r\n                Set budgets, track spending, and get alerts when you're\r\n                approaching your limits.\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"text-center\">\r\n              <div className=\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4\">\r\n                <span className=\"text-2xl\">ðŸ”’</span>\r\n              </div>\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\r\n                Secure & Private\r\n              </h3>\r\n              <p className=\"text-gray-600\">\r\n                Your data is protected with 256-bit encryption and\r\n                industry-leading security practices.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Main dashboard with data\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n\r\n      <DashboardHeader />\r\n\r\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Demo Mode Banner */}\r\n        {isDemoMode && (\r\n          <div className=\"mb-6 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg p-4 shadow-lg\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-3\">\r\n                <span className=\"text-2xl\">ðŸŽ¯</span>\r\n                <div>\r\n                  <h3 className=\"font-semibold text-lg\">Demo Mode Active</h3>\r\n                  <p className=\"text-blue-100 text-sm\">\r\n                    You're viewing sample data. Sign in to connect your real accounts.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <button\r\n                onClick={() => {\r\n                  localStorage.removeItem('financeapp-demo-mode');\r\n                  window.location.href = '/';\r\n                }}\r\n                className=\"bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg text-sm font-medium transition-colors\"\r\n              >\r\n                Sign In\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n\r\n\r\n        {/* Error Display */}\r\n        {state.error && (\r\n          <div className=\"mb-6 bg-red-50 border border-red-200 rounded-lg p-4\">\r\n            <div className=\"flex\">\r\n              <div className=\"flex-shrink-0\">\r\n                <svg\r\n                  className=\"h-5 w-5 text-red-400\"\r\n                  viewBox=\"0 0 20 20\"\r\n                  fill=\"currentColor\"\r\n                >\r\n                  <path\r\n                    fillRule=\"evenodd\"\r\n                    d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\"\r\n                    clipRule=\"evenodd\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n              <div className=\"ml-3\">\r\n                <p className=\"text-sm text-red-800\">{state.error}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Period Selector - Centered above KPI Section */}\r\n        <div className=\"flex justify-center mb-6\">\r\n          <div className=\"flex items-center space-x-1 bg-gray-100 rounded-lg p-1\">\r\n            {DEFAULT_PERIODS.map((period) => (\r\n              <button\r\n                key={period}\r\n                onClick={() => {\r\n                  if (period === 'custom') {\r\n                    // Handle custom date picker\r\n                    alert('Custom date picker coming soon!');\r\n                  } else {\r\n                    changePeriod(period as any);\r\n                  }\r\n                }}\r\n                className={`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${\r\n                  state.selectedPeriod === period\r\n                    ? 'bg-white shadow-sm text-blue-600'\r\n                    : 'text-gray-600 hover:text-gray-800'\r\n                }`}\r\n              >\r\n                {period === 'day'\r\n                  ? 'D'\r\n                  : period === 'week'\r\n                  ? 'W'\r\n                  : period === 'month'\r\n                  ? 'M'\r\n                  : period === 'quarter'\r\n                  ? 'Q'\r\n                  : period === 'year'\r\n                  ? 'Y'\r\n                  : period === '5year'\r\n                  ? '5Y'\r\n                  : period === 'custom'\r\n                  ? 'Custom'\r\n                  : period}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* KPI Section */}\r\n        <div className=\"mb-6\">\r\n          <Suspense fallback={<InlineSpinner />}>\r\n            <KPISection\r\n              summary={filteredSummary}\r\n              totalBalance={filteredSummary.totalBalance}\r\n              period={state.selectedPeriod}\r\n              budgets={budgets}\r\n              balanceTrend={trendData?.balance}\r\n              incomeTrend={trendData?.income}\r\n              expenseTrend={trendData?.expenses}\r\n              savingsTrend={trendData?.savings}\r\n            />\r\n          </Suspense>\r\n        </div>\r\n\r\n        {/* Account Overview */}\r\n        <div className=\"mb-6\">\r\n          <Suspense fallback={<InlineSpinner />}>\r\n            <AccountOverview\r\n              accounts={filteredAccounts}\r\n              onAccountSelect={viewAccountDetail}\r\n              accountFilter={accountFilter}\r\n            />\r\n          </Suspense>\r\n        </div>\r\n\r\n        {/* Charts Section */}\r\n        <div className=\"mb-6\">\r\n          <ChartContainer\r\n            transactions={allTransactions}\r\n            accounts={filteredAccounts}\r\n            period={state.selectedPeriod}\r\n            budgets={budgets}\r\n            loading={isLoading}\r\n            error={state.error}\r\n            onExport={handleExportTransactions}\r\n            onRefresh={refreshCharts}\r\n          />\r\n        </div>\r\n\r\n        {/* Budget Section */}\r\n        <div className=\"mb-6\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h2 className=\"text-xl font-semibold text-gray-900\">Budget Management</h2>\r\n            <Button\r\n              onClick={() => setShowBudgetForm(true)}\r\n              className=\"flex items-center space-x-2\"\r\n            >\r\n              <Plus className=\"w-4 h-4\" />\r\n              <span>Add Budget</span>\r\n            </Button>\r\n          </div>\r\n          \r\n          <Suspense fallback={<InlineSpinner />}>\r\n            <BudgetOverview\r\n              onBudgetSelect={setSelectedBudget}\r\n            />\r\n          </Suspense>\r\n        </div>\r\n\r\n        {/* Recent Activity */}\r\n        <div className=\"mb-6\">\r\n          <Suspense fallback={<InlineSpinner />}>\r\n            <RecentActivity\r\n              accounts={filteredAccounts}\r\n              limit={10}\r\n            />\r\n          </Suspense>\r\n        </div>\r\n\r\n        {/* Export Section - Hidden for now */}\r\n        {/* <div className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Export Data</h3>\r\n          <div className=\"flex flex-wrap gap-3\">\r\n            <Button\r\n              onClick={handleExportTransactions}\r\n              disabled={isExporting}\r\n              className=\"flex items-center space-x-2\"\r\n            >\r\n              <Download className=\"w-4 h-4\" />\r\n              <span>{isExporting ? 'Exporting...' : 'Export Transactions'}</span>\r\n            </Button>\r\n            <Button\r\n              onClick={handleExportSummary}\r\n              disabled={isExporting}\r\n              className=\"flex items-center space-x-2\"\r\n            >\r\n              <Upload className=\"w-4 h-4\" />\r\n              <span>{isExporting ? 'Exporting...' : 'Export Summary'}</span>\r\n            </Button>\r\n          </div>\r\n          {exportError && (\r\n            <p className=\"text-red-600 text-sm mt-2\">{exportError}</p>\r\n          )}\r\n        </div> */}\r\n      </main>\r\n\r\n      {/* Budget Form Modal */}\r\n      {showBudgetForm && (\r\n        <Suspense fallback={<FullScreenSpinner text=\"Loading Budget Form...\" />}>\r\n          <BudgetForm\r\n            budget={selectedBudget}\r\n            onSave={(budget) => {\r\n              // TODO: Save budget\r\n              setShowBudgetForm(false);\r\n            }}\r\n            onCancel={() => setShowBudgetForm(false)}\r\n            isOpen={showBudgetForm}\r\n          />\r\n        </Suspense>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}