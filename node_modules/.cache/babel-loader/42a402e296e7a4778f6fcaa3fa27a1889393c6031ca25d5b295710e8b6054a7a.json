{"ast":null,"code":"import React from'react';import{TrendingUp,TrendingDown}from'lucide-react';import{useFinancial}from'../../contexts/FinancialContext';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export const KPICard=/*#__PURE__*/React.memo(_ref=>{let{title,value,change,valueChange,isPositive,isCurrency=true,color='blue',trendData=[],period='month'}=_ref;const{isPrivacyMode}=useFinancial();const colorClasses={red:'text-red-600',green:'text-green-600',blue:'text-blue-600',purple:'text-purple-600',orange:'text-orange-600'};const strokeColors={red:'#ef4444',green:'#22c55e',blue:'#3b82f6',purple:'#a855f7',orange:'#f97316'};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow-sm border hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mb-1\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-xs font-medium text-gray-600\",children:title})}),/*#__PURE__*/_jsx(\"p\",{className:`text-xl font-bold mb-1 ${colorClasses[color]}`,children:isPrivacyMode?/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[isCurrency?'$':'',Math.abs(value).toLocaleString('en-US',{minimumFractionDigits:isCurrency?2:0})]})}),trendData.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"h-6 mb-1 relative\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-full h-full\",viewBox:\"0 0 100 24\",children:(()=>{const maxVal=Math.max(...trendData);const minVal=Math.min(...trendData);const range=maxVal-minVal||1;const points=trendData.map((val,index)=>{const x=index/(trendData.length-1)*100;const y=24-(val-minVal)/range*18-3;return`${x},${y}`;}).join(' ');return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"polyline\",{fill:\"none\",stroke:strokeColors[color],strokeWidth:\"1.5\",points:points,className:\"drop-shadow-sm\"}),/*#__PURE__*/_jsx(\"circle\",{cx:trendData.length>1?100:50,cy:trendData.length>1?24-(trendData[trendData.length-1]-minVal)/range*18-3:12,r:\"1.5\",fill:strokeColors[color],className:\"drop-shadow-sm\"})]});})()})}),/*#__PURE__*/_jsxs(\"div\",{className:`flex items-center text-xs ${isPositive?'text-green-600':'text-red-600'}`,children:[change>=0?/*#__PURE__*/_jsx(TrendingUp,{className:\"w-3 h-3 mr-1\"}):/*#__PURE__*/_jsx(TrendingDown,{className:\"w-3 h-3 mr-1\"}),/*#__PURE__*/_jsxs(\"span\",{children:[change>=0?'+':'',change.toFixed(1),\"%\",valueChange!==undefined&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-1\",children:[\"(\",valueChange>=0?'+':'',\"$\",Math.abs(valueChange).toLocaleString('en-US',{minimumFractionDigits:2}),\")\"]}),' vs last ',period]})]})]});},(prevProps,nextProps)=>{var _prevProps$trendData,_nextProps$trendData;// Custom comparison for expensive props\nreturn prevProps.value===nextProps.value&&prevProps.change===nextProps.change&&((_prevProps$trendData=prevProps.trendData)===null||_prevProps$trendData===void 0?void 0:_prevProps$trendData.length)===((_nextProps$trendData=nextProps.trendData)===null||_nextProps$trendData===void 0?void 0:_nextProps$trendData.length)&&prevProps.isPositive===nextProps.isPositive;});KPICard.displayName='KPICard';","map":{"version":3,"names":["React","TrendingUp","TrendingDown","useFinancial","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","KPICard","memo","_ref","title","value","change","valueChange","isPositive","isCurrency","color","trendData","period","isPrivacyMode","colorClasses","red","green","blue","purple","orange","strokeColors","className","children","Math","abs","toLocaleString","minimumFractionDigits","length","viewBox","maxVal","max","minVal","min","range","points","map","val","index","x","y","join","fill","stroke","strokeWidth","cx","cy","r","toFixed","undefined","prevProps","nextProps","_prevProps$trendData","_nextProps$trendData","displayName"],"sources":["C:/Users/X2DHHWAN/Desktop/Finance-App/src/components/ui/KPICard.tsx"],"sourcesContent":["import React from 'react';\r\nimport { TrendingUp, TrendingDown } from 'lucide-react';\r\nimport { useFinancial } from '../../contexts/FinancialContext';\r\n\r\ninterface KPICardProps {\r\n  title: string;\r\n  value: number;\r\n  change: number;\r\n  valueChange?: number; // Dollar value change\r\n  isPositive: boolean;\r\n  isCurrency?: boolean;\r\n  color?: 'red' | 'green' | 'blue' | 'purple' | 'orange';\r\n  trendData?: number[];\r\n  period?: string;\r\n}\r\n\r\nexport const KPICard = React.memo<KPICardProps>(({\r\n  title,\r\n  value,\r\n  change,\r\n  valueChange,\r\n  isPositive,\r\n  isCurrency = true,\r\n  color = 'blue',\r\n  trendData = [],\r\n  period = 'month',\r\n}) => {\r\n  const { isPrivacyMode } = useFinancial();\r\n\r\n  const colorClasses = {\r\n    red: 'text-red-600',\r\n    green: 'text-green-600',\r\n    blue: 'text-blue-600',\r\n    purple: 'text-purple-600',\r\n    orange: 'text-orange-600',\r\n  };\r\n\r\n  const strokeColors = {\r\n    red: '#ef4444',\r\n    green: '#22c55e',\r\n    blue: '#3b82f6',\r\n    purple: '#a855f7',\r\n    orange: '#f97316',\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white p-4 rounded-lg shadow-sm border hover:shadow-md transition-shadow\">\r\n      <div className=\"flex items-center justify-between mb-1\">\r\n        <h3 className=\"text-xs font-medium text-gray-600\">{title}</h3>\r\n      </div>\r\n\r\n      <p className={`text-xl font-bold mb-1 ${colorClasses[color]}`}>\r\n        {isPrivacyMode ? (\r\n          <span className=\"text-gray-400\">••••••</span>\r\n        ) : (\r\n          <>\r\n            {isCurrency ? '$' : ''}\r\n            {Math.abs(value).toLocaleString('en-US', {\r\n              minimumFractionDigits: isCurrency ? 2 : 0,\r\n            })}\r\n          </>\r\n        )}\r\n      </p>\r\n\r\n      {/* Mini Trend Chart */}\r\n      {trendData.length > 0 && (\r\n        <div className=\"h-6 mb-1 relative\">\r\n          <svg className=\"w-full h-full\" viewBox=\"0 0 100 24\">\r\n            {(() => {\r\n              const maxVal = Math.max(...trendData);\r\n              const minVal = Math.min(...trendData);\r\n              const range = maxVal - minVal || 1;\r\n\r\n              const points = trendData\r\n                .map((val, index) => {\r\n                  const x = (index / (trendData.length - 1)) * 100;\r\n                  const y = 24 - ((val - minVal) / range) * 18 - 3;\r\n                  return `${x},${y}`;\r\n                })\r\n                .join(' ');\r\n\r\n              return (\r\n                <>\r\n                  <polyline\r\n                    fill=\"none\"\r\n                    stroke={strokeColors[color]}\r\n                    strokeWidth=\"1.5\"\r\n                    points={points}\r\n                    className=\"drop-shadow-sm\"\r\n                  />\r\n                  <circle\r\n                    cx={trendData.length > 1 ? 100 : 50}\r\n                    cy={\r\n                      trendData.length > 1\r\n                        ? 24 -\r\n                          ((trendData[trendData.length - 1] - minVal) / range) *\r\n                            18 -\r\n                          3\r\n                        : 12\r\n                    }\r\n                    r=\"1.5\"\r\n                    fill={strokeColors[color]}\r\n                    className=\"drop-shadow-sm\"\r\n                  />\r\n                </>\r\n              );\r\n            })()}\r\n          </svg>\r\n        </div>\r\n      )}\r\n\r\n      {/* Change Indicator */}\r\n      <div\r\n        className={`flex items-center text-xs ${\r\n          isPositive ? 'text-green-600' : 'text-red-600'\r\n        }`}\r\n      >\r\n        {change >= 0 ? (\r\n          <TrendingUp className=\"w-3 h-3 mr-1\" />\r\n        ) : (\r\n          <TrendingDown className=\"w-3 h-3 mr-1\" />\r\n        )}\r\n        <span>\r\n          {change >= 0 ? '+' : ''}\r\n          {change.toFixed(1)}%\r\n          {valueChange !== undefined && (\r\n            <span className=\"ml-1\">\r\n              ({valueChange >= 0 ? '+' : ''}$\r\n              {Math.abs(valueChange).toLocaleString('en-US', {\r\n                minimumFractionDigits: 2,\r\n              })}\r\n              )\r\n            </span>\r\n          )}\r\n          {' vs last '}\r\n          {period}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}, (prevProps, nextProps) => {\r\n  // Custom comparison for expensive props\r\n  return prevProps.value === nextProps.value && \r\n         prevProps.change === nextProps.change &&\r\n         prevProps.trendData?.length === nextProps.trendData?.length &&\r\n         prevProps.isPositive === nextProps.isPositive;\r\n});\r\n\r\nKPICard.displayName = 'KPICard';\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}