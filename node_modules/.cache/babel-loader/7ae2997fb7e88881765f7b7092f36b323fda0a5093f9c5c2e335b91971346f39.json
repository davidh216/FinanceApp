{"ast":null,"code":"import React from'react';import{TrendingUp,TrendingDown}from'lucide-react';import{useFinancial}from'../../contexts/FinancialContext';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export const KPICard=_ref=>{let{title,value,change,valueChange,isPositive,isCurrency=true,color='blue',trendData=[],period='month'}=_ref;const{isPrivacyMode}=useFinancial();const colorClasses={red:'text-red-600',green:'text-green-600',blue:'text-blue-600',purple:'text-purple-600'};const strokeColors={red:'#ef4444',green:'#22c55e',blue:'#3b82f6',purple:'#a855f7'};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow-sm border hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mb-1\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-xs font-medium text-gray-600\",children:title})}),/*#__PURE__*/_jsx(\"p\",{className:`text-xl font-bold mb-1 ${colorClasses[color]}`,children:isPrivacyMode?/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[isCurrency?'$':'',Math.abs(value).toLocaleString('en-US',{minimumFractionDigits:isCurrency?2:0})]})}),trendData.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"h-6 mb-1 relative\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-full h-full\",viewBox:\"0 0 100 24\",children:(()=>{const maxVal=Math.max(...trendData);const minVal=Math.min(...trendData);const range=maxVal-minVal||1;const points=trendData.map((val,index)=>{const x=index/(trendData.length-1)*100;const y=24-(val-minVal)/range*18-3;return`${x},${y}`;}).join(' ');return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"polyline\",{fill:\"none\",stroke:strokeColors[color],strokeWidth:\"1.5\",points:points,className:\"drop-shadow-sm\"}),/*#__PURE__*/_jsx(\"circle\",{cx:trendData.length>1?100:50,cy:trendData.length>1?24-(trendData[trendData.length-1]-minVal)/range*18-3:12,r:\"1.5\",fill:strokeColors[color],className:\"drop-shadow-sm\"})]});})()})}),/*#__PURE__*/_jsxs(\"div\",{className:`flex items-center text-xs ${isPositive?'text-green-600':'text-red-600'}`,children:[change>=0?/*#__PURE__*/_jsx(TrendingUp,{className:\"w-3 h-3 mr-1\"}):/*#__PURE__*/_jsx(TrendingDown,{className:\"w-3 h-3 mr-1\"}),/*#__PURE__*/_jsxs(\"span\",{children:[change>=0?'+':'',change.toFixed(1),\"%\",valueChange!==undefined&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-1\",children:[\"(\",valueChange>=0?'+':'',\"$\",Math.abs(valueChange).toLocaleString('en-US',{minimumFractionDigits:2}),\")\"]}),' vs last ',period]})]})]});};","map":{"version":3,"names":["React","TrendingUp","TrendingDown","useFinancial","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","KPICard","_ref","title","value","change","valueChange","isPositive","isCurrency","color","trendData","period","isPrivacyMode","colorClasses","red","green","blue","purple","strokeColors","className","children","Math","abs","toLocaleString","minimumFractionDigits","length","viewBox","maxVal","max","minVal","min","range","points","map","val","index","x","y","join","fill","stroke","strokeWidth","cx","cy","r","toFixed","undefined"],"sources":["C:/Users/dliz1/Desktop/FinanceApp/src/components/ui/KPICard.tsx"],"sourcesContent":["import React from 'react';\r\nimport { TrendingUp, TrendingDown } from 'lucide-react';\r\nimport { useFinancial } from '../../contexts/FinancialContext';\r\n\r\ninterface KPICardProps {\r\n  title: string;\r\n  value: number;\r\n  change: number;\r\n  valueChange?: number; // Dollar value change\r\n  isPositive: boolean;\r\n  isCurrency?: boolean;\r\n  color?: 'red' | 'green' | 'blue' | 'purple';\r\n  trendData?: number[];\r\n  period?: string;\r\n}\r\n\r\nexport const KPICard: React.FC<KPICardProps> = ({\r\n  title,\r\n  value,\r\n  change,\r\n  valueChange,\r\n  isPositive,\r\n  isCurrency = true,\r\n  color = 'blue',\r\n  trendData = [],\r\n  period = 'month',\r\n}) => {\r\n  const { isPrivacyMode } = useFinancial();\r\n  \r\n  const colorClasses = {\r\n    red: 'text-red-600',\r\n    green: 'text-green-600',\r\n    blue: 'text-blue-600',\r\n    purple: 'text-purple-600',\r\n  };\r\n\r\n  const strokeColors = {\r\n    red: '#ef4444',\r\n    green: '#22c55e',\r\n    blue: '#3b82f6',\r\n    purple: '#a855f7',\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white p-4 rounded-lg shadow-sm border hover:shadow-md transition-shadow\">\r\n      <div className=\"flex items-center justify-between mb-1\">\r\n        <h3 className=\"text-xs font-medium text-gray-600\">{title}</h3>\r\n      </div>\r\n\r\n      <p className={`text-xl font-bold mb-1 ${colorClasses[color]}`}>\r\n        {isPrivacyMode ? (\r\n          <span className=\"text-gray-400\">••••••</span>\r\n        ) : (\r\n          <>\r\n            {isCurrency ? '$' : ''}\r\n            {Math.abs(value).toLocaleString('en-US', {\r\n              minimumFractionDigits: isCurrency ? 2 : 0,\r\n            })}\r\n          </>\r\n        )}\r\n      </p>\r\n\r\n      {/* Mini Trend Chart */}\r\n      {trendData.length > 0 && (\r\n        <div className=\"h-6 mb-1 relative\">\r\n          <svg className=\"w-full h-full\" viewBox=\"0 0 100 24\">\r\n            {(() => {\r\n              const maxVal = Math.max(...trendData);\r\n              const minVal = Math.min(...trendData);\r\n              const range = maxVal - minVal || 1;\r\n\r\n              const points = trendData\r\n                .map((val, index) => {\r\n                  const x = (index / (trendData.length - 1)) * 100;\r\n                  const y = 24 - ((val - minVal) / range) * 18 - 3;\r\n                  return `${x},${y}`;\r\n                })\r\n                .join(' ');\r\n\r\n              return (\r\n                <>\r\n                  <polyline\r\n                    fill=\"none\"\r\n                    stroke={strokeColors[color]}\r\n                    strokeWidth=\"1.5\"\r\n                    points={points}\r\n                    className=\"drop-shadow-sm\"\r\n                  />\r\n                  <circle\r\n                    cx={trendData.length > 1 ? 100 : 50}\r\n                    cy={\r\n                      trendData.length > 1\r\n                        ? 24 -\r\n                          ((trendData[trendData.length - 1] - minVal) / range) *\r\n                            18 -\r\n                          3\r\n                        : 12\r\n                    }\r\n                    r=\"1.5\"\r\n                    fill={strokeColors[color]}\r\n                    className=\"drop-shadow-sm\"\r\n                  />\r\n                </>\r\n              );\r\n            })()}\r\n          </svg>\r\n        </div>\r\n      )}\r\n\r\n      {/* Change Indicator */}\r\n      <div\r\n        className={`flex items-center text-xs ${\r\n          isPositive ? 'text-green-600' : 'text-red-600'\r\n        }`}\r\n      >\r\n        {change >= 0 ? (\r\n          <TrendingUp className=\"w-3 h-3 mr-1\" />\r\n        ) : (\r\n          <TrendingDown className=\"w-3 h-3 mr-1\" />\r\n        )}\r\n        <span>\r\n          {change >= 0 ? '+' : ''}\r\n          {change.toFixed(1)}%\r\n          {valueChange !== undefined && (\r\n            <span className=\"ml-1\">\r\n              ({valueChange >= 0 ? '+' : ''}${Math.abs(valueChange).toLocaleString('en-US', { minimumFractionDigits: 2 })})\r\n            </span>\r\n          )}\r\n          {' vs last '}{period}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}