{"ast":null,"code":"import React,{useMemo}from'react';import{BaseChart}from'./BaseChart';import{processBalanceTrendData,CHART_COLORS}from'../../utils/chartUtils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const BalanceTrendChart=_ref=>{let{transactions,accounts,period,height=300,className='',onDataPointClick,loading=false,error=null}=_ref;const chartData=useMemo(()=>{const dataPoints=processBalanceTrendData(transactions,accounts,period);return{labels:dataPoints.map(point=>point.label),datasets:[{label:'Balance',data:dataPoints.map(point=>point.value),borderColor:CHART_COLORS.primary,backgroundColor:CHART_COLORS.primary+'20',borderWidth:3,fill:true,tension:0.4,pointBackgroundColor:CHART_COLORS.primary,pointBorderColor:'#fff',pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]};},[transactions,accounts,period]);const handleChartClick=(event,elements)=>{if(elements.length>0&&onDataPointClick){const dataIndex=elements[0].index;const dataPoints=processBalanceTrendData(transactions,accounts,period);onDataPointClick(dataPoints[dataIndex]);}};const customOptions={plugins:{title:{display:true,text:`Balance Trend - ${period.charAt(0).toUpperCase()+period.slice(1)}`,font:{size:16,weight:'bold'},color:'#374151',padding:{top:10,bottom:20}},tooltip:{callbacks:{label:function(context){const value=context.parsed.y;return`Balance: $${value.toLocaleString()}`;}}}},scales:{y:{ticks:{callback:function(value){return'$'+value.toLocaleString();}}}}};return/*#__PURE__*/_jsxs(\"div\",{className:`bg-white rounded-lg shadow-sm border p-6 ${className}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:\"Balance Trend\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Track your account balance over time\"})]}),/*#__PURE__*/_jsx(BaseChart,{type:\"line\",data:chartData,options:customOptions,height:height,onChartClick:handleChartClick,loading:loading,error:error}),!loading&&!error&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex items-center justify-between text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Current Balance:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 text-green-600 font-semibold\",children:[\"$\",accounts.reduce((sum,account)=>sum+account.balance,0).toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Period:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 capitalize\",children:period})]})]})]});};","map":{"version":3,"names":["React","useMemo","BaseChart","processBalanceTrendData","CHART_COLORS","jsx","_jsx","jsxs","_jsxs","BalanceTrendChart","_ref","transactions","accounts","period","height","className","onDataPointClick","loading","error","chartData","dataPoints","labels","map","point","label","datasets","data","value","borderColor","primary","backgroundColor","borderWidth","fill","tension","pointBackgroundColor","pointBorderColor","pointBorderWidth","pointRadius","pointHoverRadius","handleChartClick","event","elements","length","dataIndex","index","customOptions","plugins","title","display","text","charAt","toUpperCase","slice","font","size","weight","color","padding","top","bottom","tooltip","callbacks","context","parsed","y","toLocaleString","scales","ticks","callback","children","type","options","onChartClick","reduce","sum","account","balance"],"sources":["C:/Users/X2DHHWAN/Desktop/Finance-App/src/components/charts/BalanceTrendChart.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\r\nimport { Transaction, Account, TimePeriod } from '../../types/financial';\r\nimport { BaseChart } from './BaseChart';\r\nimport { processBalanceTrendData, CHART_COLORS } from '../../utils/chartUtils';\r\n\r\ninterface BalanceTrendChartProps {\r\n  transactions: Transaction[];\r\n  accounts: Account[];\r\n  period: TimePeriod;\r\n  height?: string | number;\r\n  className?: string;\r\n  onDataPointClick?: (dataPoint: any) => void;\r\n  loading?: boolean;\r\n  error?: string | null;\r\n}\r\n\r\nexport const BalanceTrendChart: React.FC<BalanceTrendChartProps> = ({\r\n  transactions,\r\n  accounts,\r\n  period,\r\n  height = 300,\r\n  className = '',\r\n  onDataPointClick,\r\n  loading = false,\r\n  error = null,\r\n}) => {\r\n  const chartData = useMemo(() => {\r\n    const dataPoints = processBalanceTrendData(transactions, accounts, period);\r\n    \r\n    return {\r\n      labels: dataPoints.map(point => point.label),\r\n      datasets: [\r\n        {\r\n          label: 'Balance',\r\n          data: dataPoints.map(point => point.value),\r\n          borderColor: CHART_COLORS.primary,\r\n          backgroundColor: CHART_COLORS.primary + '20',\r\n          borderWidth: 3,\r\n          fill: true,\r\n          tension: 0.4,\r\n          pointBackgroundColor: CHART_COLORS.primary,\r\n          pointBorderColor: '#fff',\r\n          pointBorderWidth: 2,\r\n          pointRadius: 4,\r\n          pointHoverRadius: 6,\r\n        },\r\n      ],\r\n    };\r\n  }, [transactions, accounts, period]);\r\n\r\n  const handleChartClick = (event: any, elements: any[]) => {\r\n    if (elements.length > 0 && onDataPointClick) {\r\n      const dataIndex = elements[0].index;\r\n      const dataPoints = processBalanceTrendData(transactions, accounts, period);\r\n      onDataPointClick(dataPoints[dataIndex]);\r\n    }\r\n  };\r\n\r\n  const customOptions = {\r\n    plugins: {\r\n      title: {\r\n        display: true,\r\n        text: `Balance Trend - ${period.charAt(0).toUpperCase() + period.slice(1)}`,\r\n        font: {\r\n          size: 16,\r\n          weight: 'bold' as const,\r\n        },\r\n        color: '#374151',\r\n        padding: {\r\n          top: 10,\r\n          bottom: 20,\r\n        },\r\n      },\r\n      tooltip: {\r\n        callbacks: {\r\n          label: function(context: any) {\r\n            const value = context.parsed.y;\r\n            return `Balance: $${value.toLocaleString()}`;\r\n          },\r\n        },\r\n      },\r\n    },\r\n    scales: {\r\n      y: {\r\n        ticks: {\r\n          callback: function(value: any) {\r\n            return '$' + value.toLocaleString();\r\n          },\r\n        },\r\n      },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div className={`bg-white rounded-lg shadow-sm border p-6 ${className}`}>\r\n      <div className=\"mb-4\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\r\n          Balance Trend\r\n        </h3>\r\n        <p className=\"text-sm text-gray-600\">\r\n          Track your account balance over time\r\n        </p>\r\n      </div>\r\n      \r\n      <BaseChart\r\n        type=\"line\"\r\n        data={chartData}\r\n        options={customOptions}\r\n        height={height}\r\n        onChartClick={handleChartClick}\r\n        loading={loading}\r\n        error={error}\r\n      />\r\n      \r\n      {!loading && !error && (\r\n        <div className=\"mt-4 flex items-center justify-between text-sm text-gray-600\">\r\n          <div>\r\n            <span className=\"font-medium\">Current Balance:</span>\r\n            <span className=\"ml-2 text-green-600 font-semibold\">\r\n              ${accounts.reduce((sum, account) => sum + account.balance, 0).toLocaleString()}\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <span className=\"font-medium\">Period:</span>\r\n            <span className=\"ml-2 capitalize\">{period}</span>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}