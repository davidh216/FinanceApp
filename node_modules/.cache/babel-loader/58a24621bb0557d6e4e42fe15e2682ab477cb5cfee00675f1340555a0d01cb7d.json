{"ast":null,"code":"// Update the KPISection component in src/components/dashboard/KPISection.tsx\nimport React from'react';import{KPICard}from'../ui/KPICard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const KPISection=_ref=>{let{summary,totalBalance,period,balanceTrend=[],incomeTrend=[],expenseTrend=[],savingsTrend=[]}=_ref;// Dynamic titles based on period\nconst getPeriodLabel=period=>{switch(period){case'day':return'Daily';case'week':return'Weekly';case'month':return'Monthly';case'quarter':return'Quarterly';case'year':return'Yearly';case'5year':return'5-Year';default:return'Monthly';}};const periodLabel=getPeriodLabel(period);// Calculate trend changes (mock for now, but you could calculate real trends)\nconst calculateTrendChange=(current,previous)=>{if(previous===0)return current>0?100:0;return(current-previous)/previous*100;};// Calculate previous period data for trend calculation\nconst prevIncome=summary.previousPeriodIncome||summary.monthlyIncome*0.9;const prevExpenses=summary.previousPeriodExpenses||summary.monthlyExpenses*1.1;const prevBalance=totalBalance*0.95;// Mock previous balance\n// Calculate value changes\nconst balanceValueChange=totalBalance-prevBalance;const incomeValueChange=summary.monthlyIncome-prevIncome;const expenseValueChange=summary.monthlyExpenses-prevExpenses;const savingsValueChange=summary.savingsRate*100-(prevIncome>0?(prevIncome-prevExpenses)/prevIncome:0)*100;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(KPICard,{title:\"Total Balance\",value:totalBalance,change:calculateTrendChange(totalBalance,prevBalance),valueChange:balanceValueChange,isPositive:totalBalance>=prevBalance,color:totalBalance<0?'red':'green',trendData:balanceTrend,period:period}),/*#__PURE__*/_jsx(KPICard,{title:`Income (${periodLabel})`,value:summary.monthlyIncome,change:calculateTrendChange(summary.monthlyIncome,prevIncome),valueChange:incomeValueChange,isPositive:summary.monthlyIncome>=prevIncome,color:\"green\",trendData:incomeTrend,period:period}),/*#__PURE__*/_jsx(KPICard,{title:`Spending (${periodLabel})`,value:summary.monthlyExpenses,change:calculateTrendChange(summary.monthlyExpenses,prevExpenses),valueChange:expenseValueChange,isPositive:summary.monthlyExpenses<=prevExpenses// Lower spending is better\n,color:\"red\",trendData:expenseTrend,period:period}),/*#__PURE__*/_jsx(KPICard,{title:\"Savings Rate\",value:summary.savingsRate*100,change:2.1// Mock change for now\n,valueChange:savingsValueChange,isPositive:true,isCurrency:false,color:\"blue\",trendData:savingsTrend,period:period})]})});};","map":{"version":3,"names":["React","KPICard","jsx","_jsx","jsxs","_jsxs","KPISection","_ref","summary","totalBalance","period","balanceTrend","incomeTrend","expenseTrend","savingsTrend","getPeriodLabel","periodLabel","calculateTrendChange","current","previous","prevIncome","previousPeriodIncome","monthlyIncome","prevExpenses","previousPeriodExpenses","monthlyExpenses","prevBalance","balanceValueChange","incomeValueChange","expenseValueChange","savingsValueChange","savingsRate","children","className","title","value","change","valueChange","isPositive","color","trendData","isCurrency"],"sources":["C:/Users/dliz1/Desktop/FinanceApp/src/components/dashboard/KPISection.tsx"],"sourcesContent":["// Update the KPISection component in src/components/dashboard/KPISection.tsx\r\n\r\nimport React from 'react';\r\nimport { KPICard } from '../ui/KPICard';\r\nimport { FinancialSummary, TimePeriod } from '../../types/financial';\r\n\r\ninterface KPISectionProps {\r\n  summary: FinancialSummary;\r\n  totalBalance: number;\r\n  period: TimePeriod;\r\n  balanceTrend?: number[];\r\n  incomeTrend?: number[];\r\n  expenseTrend?: number[];\r\n  savingsTrend?: number[];\r\n}\r\n\r\nexport const KPISection: React.FC<KPISectionProps> = ({\r\n  summary,\r\n  totalBalance,\r\n  period,\r\n  balanceTrend = [],\r\n  incomeTrend = [],\r\n  expenseTrend = [],\r\n  savingsTrend = [],\r\n}) => {\r\n  // Dynamic titles based on period\r\n  const getPeriodLabel = (period: TimePeriod): string => {\r\n    switch (period) {\r\n      case 'day': return 'Daily';\r\n      case 'week': return 'Weekly';\r\n      case 'month': return 'Monthly';\r\n      case 'quarter': return 'Quarterly';\r\n      case 'year': return 'Yearly';\r\n      case '5year': return '5-Year';\r\n      default: return 'Monthly';\r\n    }\r\n  };\r\n\r\n  const periodLabel = getPeriodLabel(period);\r\n\r\n  // Calculate trend changes (mock for now, but you could calculate real trends)\r\n  const calculateTrendChange = (current: number, previous: number): number => {\r\n    if (previous === 0) return current > 0 ? 100 : 0;\r\n    return ((current - previous) / previous) * 100;\r\n  };\r\n\r\n  // Calculate previous period data for trend calculation\r\n  const prevIncome = summary.previousPeriodIncome || summary.monthlyIncome * 0.9;\r\n  const prevExpenses = summary.previousPeriodExpenses || summary.monthlyExpenses * 1.1;\r\n  const prevBalance = totalBalance * 0.95; // Mock previous balance\r\n\r\n  // Calculate value changes\r\n  const balanceValueChange = totalBalance - prevBalance;\r\n  const incomeValueChange = summary.monthlyIncome - prevIncome;\r\n  const expenseValueChange = summary.monthlyExpenses - prevExpenses;\r\n  const savingsValueChange = (summary.savingsRate * 100) - ((prevIncome > 0 ? (prevIncome - prevExpenses) / prevIncome : 0) * 100);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        <KPICard\r\n          title=\"Total Balance\"\r\n          value={totalBalance}\r\n          change={calculateTrendChange(totalBalance, prevBalance)}\r\n          valueChange={balanceValueChange}\r\n          isPositive={totalBalance >= prevBalance}\r\n          color={totalBalance < 0 ? 'red' : 'green'}\r\n          trendData={balanceTrend}\r\n          period={period}\r\n        />\r\n\r\n        <KPICard\r\n          title={`Income (${periodLabel})`}\r\n          value={summary.monthlyIncome}\r\n          change={calculateTrendChange(summary.monthlyIncome, prevIncome)}\r\n          valueChange={incomeValueChange}\r\n          isPositive={summary.monthlyIncome >= prevIncome}\r\n          color=\"green\"\r\n          trendData={incomeTrend}\r\n          period={period}\r\n        />\r\n\r\n        <KPICard\r\n          title={`Spending (${periodLabel})`}\r\n          value={summary.monthlyExpenses}\r\n          change={calculateTrendChange(summary.monthlyExpenses, prevExpenses)}\r\n          valueChange={expenseValueChange}\r\n          isPositive={summary.monthlyExpenses <= prevExpenses} // Lower spending is better\r\n          color=\"red\"\r\n          trendData={expenseTrend}\r\n          period={period}\r\n        />\r\n\r\n        <KPICard\r\n          title=\"Savings Rate\"\r\n          value={summary.savingsRate * 100}\r\n          change={2.1} // Mock change for now\r\n          valueChange={savingsValueChange}\r\n          isPositive={true}\r\n          isCurrency={false}\r\n          color=\"blue\"\r\n          trendData={savingsTrend}\r\n          period={period}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}