"use strict";(self.webpackChunkfinanceapp=self.webpackChunkfinanceapp||[]).push([[440],{3440:(e,s,n)=>{n.r(s),n.d(s,{KPISection:()=>c});var t=n(5043),a=n(5275),i=n(8808),l=n(7395),r=n(579);const o=t.memo(e=>{let{title:s,value:n,change:t,valueChange:o,isPositive:c,isCurrency:d=!0,color:h="blue",trendData:g=[],period:m="month"}=e;const{isPrivacyMode:u}=(0,l.x)(),v={red:"#ef4444",green:"#22c55e",blue:"#3b82f6",purple:"#a855f7",orange:"#f97316"};return(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border hover:shadow-md transition-shadow",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,r.jsx)("h3",{className:"text-xs font-medium text-gray-600",children:s})}),(0,r.jsx)("p",{className:`text-xl font-bold mb-1 ${{red:"text-red-600",green:"text-green-600",blue:"text-blue-600",purple:"text-purple-600",orange:"text-orange-600"}[h]}`,children:u?(0,r.jsx)("span",{className:"text-gray-400",children:"\u2022\u2022\u2022\u2022\u2022\u2022"}):(0,r.jsxs)(r.Fragment,{children:[d?"$":"",Math.abs(n).toLocaleString("en-US",{minimumFractionDigits:d?2:0})]})}),g.length>0&&(0,r.jsx)("div",{className:"h-6 mb-1 relative",children:(0,r.jsx)("svg",{className:"w-full h-full",viewBox:"0 0 100 24",children:(()=>{const e=Math.max(...g),s=Math.min(...g),n=e-s||1,t=g.map((e,t)=>`${t/(g.length-1)*100},${24-(e-s)/n*18-3}`).join(" ");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("polyline",{fill:"none",stroke:v[h],strokeWidth:"1.5",points:t,className:"drop-shadow-sm"}),(0,r.jsx)("circle",{cx:g.length>1?100:50,cy:g.length>1?24-(g[g.length-1]-s)/n*18-3:12,r:"1.5",fill:v[h],className:"drop-shadow-sm"})]})})()})}),(0,r.jsxs)("div",{className:"flex items-center text-xs "+(c?"text-green-600":"text-red-600"),children:[t>=0?(0,r.jsx)(a.A,{className:"w-3 h-3 mr-1"}):(0,r.jsx)(i.A,{className:"w-3 h-3 mr-1"}),(0,r.jsxs)("span",{children:[t>=0?"+":"",t.toFixed(1),"%",void 0!==o&&(0,r.jsxs)("span",{className:"ml-1",children:["(",o>=0?"+":"","$",Math.abs(o).toLocaleString("en-US",{minimumFractionDigits:2}),")"]})," vs last ",m]})]})]})},(e,s)=>{var n,t;return e.value===s.value&&e.change===s.change&&(null===(n=e.trendData)||void 0===n?void 0:n.length)===(null===(t=s.trendData)||void 0===t?void 0:t.length)&&e.isPositive===s.isPositive});o.displayName="KPICard";const c=e=>{let{summary:s,totalBalance:n,period:t,budgets:a=[],balanceTrend:i=[],incomeTrend:l=[],expenseTrend:c=[],savingsTrend:d=[]}=e;const h=(e=>{switch(e){case"day":return"Daily";case"week":return"Weekly";case"month":default:return"Monthly";case"quarter":return"Quarterly";case"year":return"Yearly";case"5year":return"5-Year"}})(t),g=(e,s)=>0===s?e>0?100:0:(e-s)/s*100,m=s.previousPeriodIncome||.9*s.monthlyIncome,u=s.previousPeriodExpenses||1.1*s.monthlyExpenses,v=.95*n,p=n-v,x=s.monthlyIncome-m,y=s.monthlyExpenses-u,j=100*s.savingsRate-100*(m>0?(m-u)/m:0),b=a.filter(e=>e.isActive),f=b.reduce((e,s)=>e+s.amount,0),w=b.reduce((e,s)=>e+s.spent,0),N=b.filter(e=>e.spent>e.amount).length,C=f>0?w/f*100:0;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[(0,r.jsx)(o,{title:"Total Balance",value:n,change:g(n,v),valueChange:p,isPositive:n>=v,color:n<0?"red":"green",trendData:i,period:t}),(0,r.jsx)(o,{title:`Income (${h})`,value:s.monthlyIncome,change:g(s.monthlyIncome,m),valueChange:x,isPositive:s.monthlyIncome>=m,color:"green",trendData:l,period:t}),(0,r.jsx)(o,{title:`Spending (${h})`,value:s.monthlyExpenses,change:g(s.monthlyExpenses,u),valueChange:y,isPositive:s.monthlyExpenses<=u,color:"red",trendData:c,period:t}),(0,r.jsx)(o,{title:"Savings Rate",value:100*s.savingsRate,change:2.1,valueChange:j,isPositive:!0,isCurrency:!1,color:"blue",trendData:d,period:t})]}),b.length>0&&(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Budget Overview"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[(0,r.jsx)(o,{title:"Total Budgeted",value:f,change:0,valueChange:0,isPositive:!0,color:"blue",period:t}),(0,r.jsx)(o,{title:"Total Spent",value:w,change:0,valueChange:0,isPositive:w<=f,color:w>f?"red":"green",period:t}),(0,r.jsx)(o,{title:"Budget Utilization",value:C,change:0,valueChange:0,isPositive:C<=100,isCurrency:!1,color:C>100?"red":C>80?"orange":"green",period:t}),(0,r.jsx)(o,{title:"Over Budget Categories",value:N,change:0,valueChange:0,isPositive:0===N,isCurrency:!1,color:N>0?"red":"green",period:t})]})]})]})}},5275:(e,s,n)=>{n.d(s,{A:()=>t});const t=(0,n(3797).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},8808:(e,s,n)=>{n.d(s,{A:()=>t});const t=(0,n(3797).A)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])}}]);
//# sourceMappingURL=440.b7fdd478.chunk.js.map