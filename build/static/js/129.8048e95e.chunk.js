"use strict";(self.webpackChunkfinanceapp=self.webpackChunkfinanceapp||[]).push([[129],{5275:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(3797).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},5683:(e,t,a)=>{a.d(t,{U:()=>l});var s=a(5043),n=a(3979),r=a(7395),c=a(579);const l=s.memo(e=>{var t;let{transaction:a,onAddTag:l,onRemoveTag:i,showAccountName:o=!1,showTagging:d=!0,className:m="",onClick:x}=e;const{isPrivacyMode:g}=(0,r.x)(),[h,u]=(0,s.useState)(!1),p=e=>{l&&!a.tags.includes(e)&&(l(a.id,e),u(!1))};return(0,c.jsx)("div",{className:`p-2 hover:bg-gray-50 transition-colors cursor-pointer ${m}`,onClick:x,children:(0,c.jsxs)("div",{className:"grid grid-cols-4 gap-4 items-center",children:[(0,c.jsxs)("div",{className:"min-w-0 text-left",children:[(0,c.jsx)("div",{className:"font-medium text-gray-900 truncate text-sm",children:a.cleanMerchant.cleanName}),(0,c.jsx)("div",{className:"text-xs text-gray-500 truncate",children:a.cleanMerchant.original})]}),(0,c.jsxs)("div",{className:"min-w-0",children:[(0,c.jsx)("div",{className:"text-sm text-gray-900",children:a.date}),(0,c.jsxs)("div",{className:"text-xs text-gray-500",children:[o?a.accountId:"",a.pending&&(0,c.jsx)("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:"Pending"})]})]}),d&&(0,c.jsxs)("div",{className:"flex items-center space-x-1 flex-wrap",children:[a.tags.map(e=>{const t=n.QD[e];return(0,c.jsxs)("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium group cursor-pointer ${(null===t||void 0===t?void 0:t.color)||"bg-gray-100 text-gray-800"}`,children:[(0,c.jsx)("span",{className:"mr-1",children:(null===t||void 0===t?void 0:t.icon)||"\ud83d\udcdd"}),e,(0,c.jsx)("button",{onClick:()=>{return t=e,void(i&&i(a.id,t));var t},className:"ml-1 text-current hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity",children:"\xd7"})]},e)}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("button",{onClick:()=>u(!h),className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:"+ Tag"}),h&&(0,c.jsx)("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:(0,c.jsx)("div",{className:"p-2 max-h-48 overflow-y-auto",children:Object.entries(n.QD).map(e=>{let[t,s]=e;return(0,c.jsxs)("button",{onClick:()=>p(t),className:"w-full flex items-center px-2 py-1.5 text-xs rounded hover:bg-gray-50 text-left disabled:opacity-50",disabled:a.tags.includes(t),children:[(0,c.jsx)("span",{className:"mr-2",children:s.icon}),(0,c.jsx)("span",{className:a.tags.includes(t)?"text-gray-400":"text-gray-700",children:t}),a.tags.includes(t)&&(0,c.jsx)("span",{className:"ml-auto text-gray-400",children:"\u2713"})]},t)})})})]}),0===a.tags.length&&"Other"!==a.cleanMerchant.suggestedCategory&&(0,c.jsxs)("button",{onClick:()=>p(a.cleanMerchant.suggestedCategory),className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-blue-700 hover:bg-blue-100 transition-colors",children:[(0,c.jsx)("span",{className:"mr-1",children:null===(t=n.QD[a.cleanMerchant.suggestedCategory])||void 0===t?void 0:t.icon}),"Suggest: ",a.cleanMerchant.suggestedCategory]})]}),(0,c.jsx)("div",{className:"text-right",children:(0,c.jsx)("div",{className:"text-sm font-semibold "+(a.amount>0?"text-green-600":"text-red-600"),children:g?(0,c.jsx)("span",{className:"text-gray-400",children:"\u2022\u2022\u2022\u2022\u2022\u2022"}):(0,c.jsxs)(c.Fragment,{children:[a.amount>0?"+":"","$",Math.abs(a.amount).toLocaleString("en-US",{minimumFractionDigits:2})]})})})]})})},(e,t)=>e.transaction.id===t.transaction.id&&e.transaction.amount===t.transaction.amount&&e.transaction.tags.length===t.transaction.tags.length&&e.showAccountName===t.showAccountName&&e.showTagging===t.showTagging&&e.className===t.className);l.displayName="TransactionItem"},8129:(e,t,a)=>{a.r(t),a.d(t,{AccountDetail:()=>h});var s=a(5043),n=a(7395),r=a(4498),c=a(3388),l=a(5683);const i=(0,a(3797).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var o=a(5275),d=a(8808),m=a(9256),x=a(2380),g=a(579);const h=e=>{let{accountId:t}=e;const{state:a,addTag:h,removeTag:u,changeScreen:p,isPrivacyMode:y}=(0,n.x)(),[b,j]=(0,s.useState)(""),[N,v]=(0,s.useState)(""),[f,w]=(0,s.useState)("date"),[D,k]=(0,s.useState)("desc"),T=(0,s.useMemo)(()=>t?a.accounts.find(e=>e.id===t):a.selectedAccount,[t,a.accounts,a.selectedAccount]),{filteredTransactions:C,monthlyStats:M}=(0,s.useMemo)(()=>{if(null===T||void 0===T||!T.transactions)return{filteredTransactions:[],monthlyStats:null};let e=T.transactions.filter(e=>{const t=e.cleanMerchant.cleanName.toLowerCase().includes(b.toLowerCase())||e.description.toLowerCase().includes(b.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(b.toLowerCase())),a=!N||e.tags.includes(N);return t&&a});e.sort((e,t)=>{let a,s;switch(f){case"amount":a=Math.abs(e.amount),s=Math.abs(t.amount);break;case"merchant":a=e.cleanMerchant.cleanName.toLowerCase(),s=t.cleanMerchant.cleanName.toLowerCase();break;default:a=new Date(e.date),s=new Date(t.date)}return a<s?"asc"===D?-1:1:a>s?"asc"===D?1:-1:0});const t=new Date;let s,n,r;switch(a.selectedPeriod){case"day":s=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date,r="Today";break;case"week":const e=t.getDay(),c=0===e?6:e-1;s=new Date(t.getFullYear(),t.getMonth(),t.getDate()-c),n=new Date,r="This Week";break;case"month":default:s=new Date(t.getFullYear(),t.getMonth(),1),n=new Date,r="This Month";break;case"quarter":const l=Math.floor(t.getMonth()/3);s=new Date(t.getFullYear(),3*l,1),n=new Date,r="This Quarter";break;case"year":s=new Date(t.getFullYear(),0,1),n=new Date,r="This Year";break;case"5year":s=new Date(t.getFullYear()-5,0,1),n=new Date,r="Last 5 Years";break;case"custom":a.customDateRange?(s=new Date(a.customDateRange.startDate),n=new Date(a.customDateRange.endDate),r=a.customDateRange.label||"Custom Range"):(s=new Date(t.getFullYear(),t.getMonth(),1),n=new Date,r="This Month")}const c=T.transactions.filter(e=>{const t=new Date(e.date);return t>=s&&t<=n}),l=c.filter(e=>e.amount>0).reduce((e,t)=>e+t.amount,0),i=Math.abs(c.filter(e=>e.amount<0).reduce((e,t)=>e+t.amount,0));return{filteredTransactions:e,monthlyStats:{totalTransactions:T.transactions.length,periodTransactions:c.length,periodIncome:l,periodExpenses:i,netFlow:l-i,periodLabel:r}}},[T,b,N,f,D,a.selectedPeriod,a.customDateRange]);if(!T)return(0,g.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,g.jsx)(r.a,{}),(0,g.jsx)("main",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,g.jsxs)("div",{className:"text-center py-12",children:[(0,g.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Account Not Found"}),(0,g.jsx)("p",{className:"text-gray-600 mb-4",children:"The requested account could not be found."}),(0,g.jsx)(c.$,{onClick:()=>p("dashboard"),children:"Back to Dashboard"})]})})]});const A=e=>{f===e?k("asc"===D?"desc":"asc"):(w(e),k("desc"))};return(0,g.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,g.jsx)(r.a,{}),(0,g.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,g.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-8",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)("button",{onClick:()=>p("dashboard"),className:"mr-4 p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors","data-testid":"back-button",children:(0,g.jsx)(i,{className:"w-5 h-5"})}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"account-name",children:T.name}),(0,g.jsxs)("p",{className:"text-gray-600","data-testid":"account-info",children:[T.bankName," \u2022 ",T.accountNumber]})]})]}),(0,g.jsxs)("div",{className:"text-right",children:[(0,g.jsx)("div",{className:"text-3xl font-bold "+(T.balance<0?"text-red-600":"text-green-600"),"data-testid":"account-balance",children:y?(0,g.jsx)("span",{className:"text-gray-400",children:"\u2022\u2022\u2022\u2022\u2022\u2022"}):(0,g.jsxs)(g.Fragment,{children:["$",Math.abs(T.balance).toLocaleString("en-US",{minimumFractionDigits:2})]})}),T.limit&&!y&&(0,g.jsxs)("div",{className:"text-sm text-gray-500","data-testid":"account-limit",children:["Limit: $",T.limit.toLocaleString()]})]})]}),M&&(0,g.jsx)("div",{className:"mb-6",children:(0,g.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,g.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,g.jsx)("div",{className:"text-sm text-gray-600",children:M.periodLabel}),(0,g.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[M.periodTransactions," transactions"]})]}),(0,g.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,g.jsx)("div",{className:"text-sm text-gray-600",children:"Income"}),(0,g.jsx)("div",{className:"text-lg font-semibold text-green-600",children:y?(0,g.jsx)("span",{className:"text-gray-400",children:"\u2022\u2022\u2022\u2022\u2022\u2022"}):(0,g.jsxs)(g.Fragment,{children:["+$",M.periodIncome.toLocaleString()]})})]}),(0,g.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,g.jsx)("div",{className:"text-sm text-gray-600",children:"Expenses"}),(0,g.jsx)("div",{className:"text-lg font-semibold text-red-600",children:y?(0,g.jsx)("span",{className:"text-gray-400",children:"\u2022\u2022\u2022\u2022\u2022\u2022"}):(0,g.jsxs)(g.Fragment,{children:["-$",M.periodExpenses.toLocaleString()]})})]}),(0,g.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,g.jsx)("div",{className:"text-sm text-gray-600",children:"Net Flow"}),(0,g.jsxs)("div",{className:"text-lg font-semibold flex items-center justify-center "+(M.netFlow>=0?"text-green-600":"text-red-600"),children:[M.netFlow>=0?(0,g.jsx)(o.A,{className:"w-4 h-4 mr-1"}):(0,g.jsx)(d.A,{className:"w-4 h-4 mr-1"}),y?(0,g.jsx)("span",{className:"text-gray-400",children:"\u2022\u2022\u2022\u2022\u2022\u2022"}):(0,g.jsxs)(g.Fragment,{children:["$",Math.abs(M.netFlow).toLocaleString()]})]})]})]})}),(0,g.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,g.jsxs)("div",{className:"flex-1 relative",children:[(0,g.jsx)(m.A,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),(0,g.jsx)("input",{type:"text",placeholder:"Search transactions...",value:b,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent","data-testid":"search-input"})]}),(0,g.jsxs)("select",{value:N,onChange:e=>v(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent","data-testid":"category-filter",children:[(0,g.jsx)("option",{value:"",children:"All Categories"}),(0,g.jsx)("option",{value:"Food & Dining",children:"Food & Dining"}),(0,g.jsx)("option",{value:"Transportation",children:"Transportation"}),(0,g.jsx)("option",{value:"Shopping",children:"Shopping"}),(0,g.jsx)("option",{value:"Utilities",children:"Utilities"}),(0,g.jsx)("option",{value:"Income",children:"Income"})]}),(0,g.jsx)(c.$,{leftIcon:(0,g.jsx)(x.A,{className:"w-4 h-4"}),size:"sm",onClick:()=>alert("Add transaction coming soon!"),"data-testid":"add-transaction-button",children:"Add Transaction"})]})]}),(0,g.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,g.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Transactions (",C.length,")"]}),(0,g.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,g.jsxs)("button",{onClick:()=>A("date"),className:"px-3 py-1 text-sm rounded transition-colors "+("date"===f?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),"data-testid":"sort-date",children:["Date"," ","date"===f&&("asc"===D?"\u2191":"\u2193")]}),(0,g.jsxs)("button",{onClick:()=>A("amount"),className:"px-3 py-1 text-sm rounded transition-colors "+("amount"===f?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),"data-testid":"sort-amount",children:["Amount"," ","amount"===f&&("asc"===D?"\u2191":"\u2193")]}),(0,g.jsxs)("button",{onClick:()=>A("merchant"),className:"px-3 py-1 text-sm rounded transition-colors "+("merchant"===f?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),"data-testid":"sort-merchant",children:["Merchant"," ","merchant"===f&&("asc"===D?"\u2191":"\u2193")]})]})]})}),(0,g.jsx)("div",{className:"divide-y divide-gray-200","data-testid":"transaction-list",children:0===C.length?(0,g.jsx)("div",{className:"p-8 text-center text-gray-500","data-testid":"empty-state",children:(0,g.jsx)("p",{className:"text-sm",children:b||N?"No transactions match your filters":"No transactions found"})}):C.map(e=>(0,g.jsx)(l.U,{transaction:e,onAddTag:h,onRemoveTag:u,showAccountName:!1,showTagging:!0},e.id))})]})]})]})}},8808:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(3797).A)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},9256:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(3797).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}}]);
//# sourceMappingURL=129.8048e95e.chunk.js.map