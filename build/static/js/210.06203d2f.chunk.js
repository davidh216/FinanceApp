"use strict";(self.webpackChunkfinanceapp=self.webpackChunkfinanceapp||[]).push([[210],{2537:(e,t,a)=>{a.d(t,{l:()=>d});var r=a(5043),s=a(6667),n=a(3826);class o{constructor(){this.budgets=[],this.alerts=[],console.log("\ud83d\udd0d MockBudgetService constructor called"),this.generateMockBudgets()}generateMockBudgets(){console.log("\ud83d\udd0d MockBudgetService.generateMockBudgets called");[{category:"Food & Dining",amount:800,spent:720,period:"month"},{category:"Transportation",amount:400,spent:450,period:"month"},{category:"Shopping",amount:600,spent:480,period:"month"},{category:"Entertainment",amount:300,spent:330,period:"month"},{category:"Utilities",amount:250,spent:200,period:"month"},{category:"Healthcare",amount:150,spent:180,period:"month"},{category:"Travel",amount:1200,spent:900,period:"quarter"},{category:"Home Improvement",amount:2e3,spent:2200,period:"quarter"}].forEach((e,t)=>{this.budgets.push({id:`budget-${t}`,userId:"demo-user",category:e.category,amount:e.amount,period:e.period,startDate:(new Date).toISOString(),endDate:new Date(Date.now()+2592e6).toISOString(),spent:e.spent,remaining:e.amount-e.spent,alerts:[],isActive:!0,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})})}async createBudget(e){await new Promise(e=>setTimeout(e,200));const t={...e,id:`budget-${Date.now()}`,userId:"demo-user",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};return this.budgets.push(t),t}async getBudgets(e){return await new Promise(e=>setTimeout(e,100)),console.log("\ud83d\udd0d MockBudgetService.getBudgets called with userId:",e),console.log("\ud83d\udd0d Total budgets in service:",this.budgets.length),console.log("\ud83d\udd0d Budgets for userId:",this.budgets.filter(t=>t.userId===e).length),this.budgets.filter(t=>t.userId===e)}async getBudget(e){return await new Promise(e=>setTimeout(e,50)),this.budgets.find(t=>t.id===e)||null}async updateBudget(e,t){await new Promise(e=>setTimeout(e,200));const a=this.budgets.findIndex(t=>t.id===e);if(-1===a)throw new Error("Budget not found");return this.budgets[a]={...this.budgets[a],...t,updatedAt:(new Date).toISOString()},this.budgets[a]}async deleteBudget(e){await new Promise(e=>setTimeout(e,200));const t=this.budgets.findIndex(t=>t.id===e);return-1!==t&&(this.budgets.splice(t,1),!0)}async getBudgetProgress(e){await new Promise(e=>setTimeout(e,100));const t=this.budgets.find(t=>t.id===e);if(!t)throw new Error("Budget not found");const a=t.spent/t.amount*100,r=t.spent>t.amount,s=Math.ceil((new Date(t.endDate).getTime()-(new Date).getTime())/864e5),n=t.spent+t.spent/(30-s)*s;return{budgetId:e,spent:t.spent,remaining:t.remaining,percentageUsed:a,isOverBudget:r,daysRemaining:Math.max(0,s),projectedSpending:n}}async getBudgetSummary(e){await new Promise(e=>setTimeout(e,100));const t=this.budgets.filter(t=>t.userId===e&&t.isActive),a=t.reduce((e,t)=>e+t.amount,0),r=t.reduce((e,t)=>e+t.spent,0),s=a-r,n=t.filter(e=>e.spent>e.amount).map(e=>e.category),o=this.alerts.filter(e=>t.some(t=>t.id===e.id&&!e.triggered));return{totalBudgets:t.length,totalBudgeted:a,totalSpent:r,totalRemaining:s,overBudgetCategories:n,upcomingAlerts:o}}async calculateBudgetSpending(e,t){await new Promise(e=>setTimeout(e,50));const a=this.budgets.find(t=>t.id===e);if(!a)return 0;const r=t.filter(e=>e.category===a.category&&new Date(e.date)>=new Date(a.startDate)&&new Date(e.date)<=new Date(a.endDate)&&e.amount<0);return Math.abs(r.reduce((e,t)=>e+t.amount,0))}async createBudgetAlert(e,t){await new Promise(e=>setTimeout(e,100));const a={...t,id:`alert-${Date.now()}`,createdAt:(new Date).toISOString()};return this.alerts.push(a),a}async getBudgetAlerts(e){return await new Promise(e=>setTimeout(e,50)),this.alerts.filter(t=>t.id===e)}async updateBudgetAlert(e,t){await new Promise(e=>setTimeout(e,100));const a=this.alerts.findIndex(t=>t.id===e);if(-1===a)throw new Error("Alert not found");return this.alerts[a]={...this.alerts[a],...t},this.alerts[a]}subscribeToBudgets(e,t){return setTimeout(()=>{const a=this.budgets.filter(t=>t.userId===e);t(a)},100),()=>{}}subscribeToBudgetProgress(e,t){return setTimeout(async()=>{const a=await this.getBudgetProgress(e);t(a)},100),()=>{}}}class i{constructor(e,t){this.config=void 0,this.userId=void 0,this.config=e,this.userId=t}getUserBudgetsCollection(){return(0,s.rJ)(n.db,"users",this.userId,"budgets")}getBudgetDocRef(e){return(0,s.H9)(n.db,"users",this.userId,"budgets",e)}convertTimestamp(e){return"string"===typeof e?e:e.toDate().toISOString()}convertToTimestamp(e){return s.Dc.fromDate(new Date(e))}convertFirestoreToBudget(e){const t=e.data();return{id:e.id,userId:t.userId,category:t.category,amount:t.amount,period:t.period,startDate:this.convertTimestamp(t.startDate),endDate:this.convertTimestamp(t.endDate),spent:t.spent||0,remaining:t.remaining||t.amount,alerts:t.alerts||[],isActive:!1!==t.isActive,createdAt:this.convertTimestamp(t.createdAt||(0,s.O5)()),updatedAt:this.convertTimestamp(t.updatedAt||(0,s.O5)())}}async createBudget(e){try{const t=this.getUserBudgetsCollection(),a={...e,userId:this.userId,createdAt:(0,s.O5)(),updatedAt:(0,s.O5)()},r=await(0,s.gS)(t,a),n=await(0,s.x7)(r);if(n.exists())return this.convertFirestoreToBudget(n);throw new Error("Failed to create budget")}catch(t){throw console.error("Error creating budget:",t),new Error("Failed to create budget")}}async getBudgets(e){try{const e=this.getUserBudgetsCollection();return(await(0,s.GG)(e)).docs.map(e=>this.convertFirestoreToBudget(e))}catch(t){throw console.error("Error fetching budgets:",t),new Error("Failed to fetch budgets")}}async getBudget(e){try{const t=this.getBudgetDocRef(e),a=await(0,s.x7)(t);return a.exists()?this.convertFirestoreToBudget(a):null}catch(t){throw console.error("Error fetching budget:",t),new Error("Failed to fetch budget")}}async updateBudget(e,t){try{const a=this.getBudgetDocRef(e),r={...t,updatedAt:(0,s.O5)()};await(0,s.mZ)(a,r);const n=await(0,s.x7)(a);if(n.exists())return this.convertFirestoreToBudget(n);throw new Error("Budget not found")}catch(a){throw console.error("Error updating budget:",a),new Error("Failed to update budget")}}async deleteBudget(e){try{const t=this.getBudgetDocRef(e);return await(0,s.kd)(t),!0}catch(t){throw console.error("Error deleting budget:",t),new Error("Failed to delete budget")}}async getBudgetProgress(e){try{const t=await this.getBudget(e);if(!t)throw new Error("Budget not found");const a=t.spent/t.amount*100,r=t.spent>t.amount,s=Math.ceil((new Date(t.endDate).getTime()-(new Date).getTime())/864e5),n=t.spent+t.spent/(30-s)*s;return{budgetId:e,spent:t.spent,remaining:t.remaining,percentageUsed:a,isOverBudget:r,daysRemaining:Math.max(0,s),projectedSpending:n}}catch(t){throw console.error("Error calculating budget progress:",t),new Error("Failed to calculate budget progress")}}async getBudgetSummary(e){try{const t=(await this.getBudgets(e)).filter(e=>e.isActive),a=t.reduce((e,t)=>e+t.amount,0),r=t.reduce((e,t)=>e+t.spent,0),s=a-r,n=t.filter(e=>e.spent>e.amount).map(e=>e.category),o=t.flatMap(e=>e.alerts.filter(e=>!e.triggered));return{totalBudgets:t.length,totalBudgeted:a,totalSpent:r,totalRemaining:s,overBudgetCategories:n,upcomingAlerts:o}}catch(t){throw console.error("Error calculating budget summary:",t),new Error("Failed to calculate budget summary")}}async calculateBudgetSpending(e,t){try{const a=await this.getBudget(e);if(!a)return 0;const r=t.filter(e=>e.category===a.category&&new Date(e.date)>=new Date(a.startDate)&&new Date(e.date)<=new Date(a.endDate)&&e.amount<0);return Math.abs(r.reduce((e,t)=>e+t.amount,0))}catch(a){throw console.error("Error calculating budget spending:",a),new Error("Failed to calculate budget spending")}}async createBudgetAlert(e,t){try{const a=await this.getBudget(e);if(!a)throw new Error("Budget not found");const r={...t,id:`alert-${Date.now()}`,createdAt:(new Date).toISOString()},s=[...a.alerts,r];return await this.updateBudget(e,{alerts:s}),r}catch(a){throw console.error("Error creating budget alert:",a),new Error("Failed to create budget alert")}}async getBudgetAlerts(e){try{const t=await this.getBudget(e);return(null===t||void 0===t?void 0:t.alerts)||[]}catch(t){throw console.error("Error fetching budget alerts:",t),new Error("Failed to fetch budget alerts")}}async updateBudgetAlert(e,t){try{const a=(await this.getBudgets(this.userId)).find(t=>t.alerts.some(t=>t.id===e));if(!a)throw new Error("Alert not found");const r=a.alerts.map(a=>a.id===e?{...a,...t}:a);await this.updateBudget(a.id,{alerts:r});const s=r.find(t=>t.id===e);if(!s)throw new Error("Failed to update alert");return s}catch(a){throw console.error("Error updating budget alert:",a),new Error("Failed to update budget alert")}}subscribeToBudgets(e,t){const a=this.getUserBudgetsCollection();return(0,s.aQ)(a,e=>{const a=e.docs.map(e=>this.convertFirestoreToBudget(e));t(a)})}subscribeToBudgetProgress(e,t){const a=this.getBudgetDocRef(e);return(0,s.aQ)(a,async a=>{if(a.exists()){const a=await this.getBudgetProgress(e);t(a)}})}}function l(e,t){if(console.log("\ud83d\udd0d createBudgetService called with config:",e,"userId:",t),e.useMockData)return console.log("\ud83d\udd0d Creating MockBudgetService"),new o;if(!t)throw new Error("User ID is required for Firebase BudgetService");return console.log("\ud83d\udd0d Creating FirebaseBudgetService"),new i(e,t)}var c=a(9066);const d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{currentUser:t}=(0,c.A)(),[a,s]=(0,r.useState)([]),[n,o]=(0,r.useState)(null),[i,d]=(0,r.useState)(null),[u,g]=(0,r.useState)(!1),[m,h]=(0,r.useState)(!1),[p,b]=(0,r.useState)(!1),[x,y]=(0,r.useState)(!1),[w,f]=(0,r.useState)(null),v=(0,r.useMemo)(()=>{var a;const r="true"===localStorage.getItem("financeapp-demo-mode")||"true"===new URLSearchParams(window.location.search).get("demo")?"demo-user":null===t||void 0===t?void 0:t.id;if(!r)return null;return l({useMockData:null===(a=e.useMockData)||void 0===a||a},r)},[null===t||void 0===t?void 0:t.id,e.useMockData]);(0,r.useEffect)(()=>{if(!v)return;const e="true"===localStorage.getItem("financeapp-demo-mode")||"true"===new URLSearchParams(window.location.search).get("demo")?"demo-user":null===t||void 0===t?void 0:t.id;if(!e)return;(async()=>{g(!0),f(null);try{const[t,a]=await Promise.all([v.getBudgets(e),v.getBudgetSummary(e)]);s(t),o(a)}catch(t){f(t instanceof Error?t.message:"Failed to load budgets")}finally{g(!1)}})();return v.subscribeToBudgets(e,e=>{s(e)})},[v,null===t||void 0===t?void 0:t.id]);const j=(0,r.useCallback)(async e=>{if(!v)throw new Error("Budget service not available");h(!0),f(null);try{const a=await v.createBudget(e);s(e=>[...e,a]);const r="true"===localStorage.getItem("financeapp-demo-mode")||"true"===new URLSearchParams(window.location.search).get("demo")?"demo-user":null===t||void 0===t?void 0:t.id;if(r){const e=await v.getBudgetSummary(r);o(e)}return a}catch(a){const e=a instanceof Error?a.message:"Failed to create budget";throw f(e),new Error(e)}finally{h(!1)}},[v,null===t||void 0===t?void 0:t.id]),B=(0,r.useCallback)(async(e,a)=>{if(!v)throw new Error("Budget service not available");b(!0),f(null);try{const r=await v.updateBudget(e,a);s(t=>t.map(t=>t.id===e?r:t)),(null===i||void 0===i?void 0:i.id)===e&&d(r);const n="true"===localStorage.getItem("financeapp-demo-mode")||"true"===new URLSearchParams(window.location.search).get("demo")?"demo-user":null===t||void 0===t?void 0:t.id;if(n){const e=await v.getBudgetSummary(n);o(e)}return r}catch(r){const e=r instanceof Error?r.message:"Failed to update budget";throw f(e),new Error(e)}finally{b(!1)}},[v,null===t||void 0===t?void 0:t.id,i]),S=(0,r.useCallback)(async e=>{if(!v)throw new Error("Budget service not available");y(!0),f(null);try{const a=await v.deleteBudget(e);if(a){s(t=>t.filter(t=>t.id!==e)),(null===i||void 0===i?void 0:i.id)===e&&d(null);const a="true"===localStorage.getItem("financeapp-demo-mode")||"true"===new URLSearchParams(window.location.search).get("demo")?"demo-user":null===t||void 0===t?void 0:t.id;if(a){const e=await v.getBudgetSummary(a);o(e)}}return a}catch(a){const e=a instanceof Error?a.message:"Failed to delete budget";throw f(e),new Error(e)}finally{y(!1)}},[v,null===t||void 0===t?void 0:t.id,i]),k=(0,r.useCallback)(e=>{d(e)},[]),N=(0,r.useCallback)(async e=>{if(!v)throw new Error("Budget service not available");return await v.getBudgetProgress(e)},[v]),D=(0,r.useCallback)(async(e,t)=>{if(!v)throw new Error("Budget service not available");return await v.calculateBudgetSpending(e,t)},[v]),C=(0,r.useCallback)(async(e,t)=>{if(!v)throw new Error("Budget service not available");return await v.createBudgetAlert(e,t)},[v]),E=(0,r.useCallback)(async e=>{if(!v)throw new Error("Budget service not available");return await v.getBudgetAlerts(e)},[v]),A=(0,r.useCallback)(async(e,t)=>{if(!v)throw new Error("Budget service not available");return await v.updateBudgetAlert(e,t)},[v]),M=(0,r.useCallback)(async()=>{if(!v)return;const e="true"===localStorage.getItem("financeapp-demo-mode")||"true"===new URLSearchParams(window.location.search).get("demo")?"demo-user":null===t||void 0===t?void 0:t.id;if(e){g(!0),f(null);try{const[t,a]=await Promise.all([v.getBudgets(e),v.getBudgetSummary(e)]);s(t),o(a)}catch(a){f(a instanceof Error?a.message:"Failed to refresh budgets")}finally{g(!1)}}},[v,null===t||void 0===t?void 0:t.id]),I=(0,r.useCallback)(()=>{f(null)},[]);return{budgets:a,budgetSummary:n,selectedBudget:i,isLoading:u,isCreating:m,isUpdating:p,isDeleting:x,error:w,createBudget:j,updateBudget:B,deleteBudget:S,selectBudget:k,getBudgetProgress:N,calculateBudgetSpending:D,createBudgetAlert:C,getBudgetAlerts:E,updateBudgetAlert:A,refreshBudgets:M,clearError:I}}},6210:(e,t,a)=>{a.r(t),a.d(t,{Dashboard:()=>ue});var r=a(5043),s=a(7395),n=a(7943),o=a(3979),i=a(3388),l=a(9915),c=a(1676),d=a(2380),u=a(7304),g=a(6058),m=a(579);u.t1.register(u.PP,u.kc,u.FN,u.No,u.E8,u.Bs,u.hE,u.m_,u.s$,u.dN);const h=e=>{let{type:t,data:a,options:s={},height:n=400,width:o="100%",className:i="",onChartClick:l,loading:c=!1,error:d=null}=e;const u=(0,r.useRef)(null),[h,p]=(0,r.useState)(null);(0,r.useEffect)(()=>{u.current&&p(u.current)},[]);const b=(e,t)=>{l&&l(e,t)},x={...(()=>{const e={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,padding:20,font:{size:12},color:"#374151"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,displayColors:!0,callbacks:{label:function(e){return`${e.dataset.label||""}: $${(e.parsed.y||e.parsed).toLocaleString()}`}}}},onClick:b};switch(t){case"line":return{...e,scales:{x:{grid:{display:!1},ticks:{maxRotation:45,color:"#6B7280"}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{color:"#6B7280",callback:function(e){return"$"+e.toLocaleString()}}}},elements:{point:{radius:4,hoverRadius:6},line:{tension:.4}}};case"bar":return{...e,scales:{x:{grid:{display:!1},ticks:{color:"#6B7280"}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{color:"#6B7280",callback:function(e){return"$"+e.toLocaleString()}}}}};case"doughnut":case"pie":return{...e,cutout:"doughnut"===t?"60%":void 0,plugins:{...e.plugins,legend:{...e.plugins.legend,position:"right"},tooltip:{...e.plugins.tooltip,callbacks:{label:function(e){const t=e.label||"",a=e.parsed,r=(a/e.dataset.data.reduce((e,t)=>e+t,0)*100).toFixed(1);return`${t}: $${a.toLocaleString()} (${r}%)`}}}}};default:return e}})(),...s};return c?(0,m.jsx)("div",{className:`flex items-center justify-center bg-gray-50 rounded-lg ${i}`,style:{height:n,width:o},children:(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),(0,m.jsx)("p",{className:"text-gray-500 text-sm",children:"Loading chart..."})]})}):d?(0,m.jsx)("div",{className:`flex items-center justify-center bg-red-50 rounded-lg ${i}`,style:{height:n,width:o},children:(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsx)("div",{className:"text-red-500 mb-2",children:(0,m.jsx)("svg",{className:"w-8 h-8 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,m.jsx)("p",{className:"text-red-600 text-sm",children:d})]})}):(0,m.jsx)("div",{className:`relative ${i}`,style:{height:n,width:o},children:(0,m.jsx)(g.t1,{ref:u,type:t,data:a,options:x})})};var p=a(8756),b=a(319),x=a(1208),y=a(233),w=a(3381),f=a(1329),v=a(1176),j=a(1620),B=a(4912),S=a(3950),k=a(8621),N=a(6691),D=a(8605),C=a(3695),E=a(4137),A=a(7744);const M={primary:"#3B82F6",secondary:"#10B981",accent:"#F59E0B",danger:"#EF4444",warning:"#F97316",info:"#06B6D4",success:"#22C55E",purple:"#8B5CF6",pink:"#EC4899",gray:"#6B7280",lightGray:"#E5E7EB",darkGray:"#374151",blue:"#3B82F6",red:"#EF4444",orange:"#F97316",green:"#22C55E"},I=function(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12;const s=[],n=t.reduce((e,t)=>e+t.balance,0),o=new Date;let i;switch(a){case"day":i=(0,p.e)(o,r-1);break;case"week":i=(0,b.k)(o,r-1);break;case"month":default:i=(0,x.a)(o,r-1);break;case"quarter":i=(0,y.c)(o,r-1);break;case"year":i=(0,w.d)(o,r-1)}for(let l=0;l<r;l++){let t;switch(a){case"day":t=new Date(i),t.setDate(i.getDate()+l);break;case"week":t=new Date(i),t.setDate(i.getDate()+7*l);break;case"month":default:t=new Date(i),t.setMonth(i.getMonth()+l);break;case"quarter":t=new Date(i),t.setMonth(i.getMonth()+3*l);break;case"year":t=new Date(i),t.setFullYear(i.getFullYear()+l)}const r=n+e.filter(e=>new Date(e.date)<=t).reduce((e,t)=>e+t.amount,0);s.push({label:(0,f.GP)(t,T(a)),value:r,date:t.toISOString()})}return s},F=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12;const r=[],s=[],n=new Date;let o;switch(t){case"day":o=(0,p.e)(n,a-1);break;case"week":o=(0,b.k)(n,a-1);break;case"month":default:o=(0,x.a)(n,a-1);break;case"quarter":o=(0,y.c)(n,a-1);break;case"year":o=(0,w.d)(n,a-1)}for(let i=0;i<a;i++){let a;switch(t){case"day":a=new Date(o),a.setDate(o.getDate()+i);break;case"week":a=new Date(o),a.setDate(o.getDate()+7*i);break;case"month":default:a=new Date(o),a.setMonth(o.getMonth()+i);break;case"quarter":a=new Date(o),a.setMonth(o.getMonth()+3*i);break;case"year":a=new Date(o),a.setFullYear(o.getFullYear()+i)}const n=P(a,t),l=R(a,t),c=e.filter(e=>{const t=new Date(e.date);return t>=n&&t<=l}),d=c.filter(e=>e.amount>0).reduce((e,t)=>e+t.amount,0),u=Math.abs(c.filter(e=>e.amount<0).reduce((e,t)=>e+t.amount,0));r.push({label:(0,f.GP)(a,T(t)),value:d,date:a.toISOString()}),s.push({label:(0,f.GP)(a,T(t)),value:u,date:a.toISOString()})}return{income:r,expenses:s}},$=(e,t)=>{const a=new Map,r=new Date;let s;switch(t){case"day":s=(0,p.e)(r,30);break;case"week":s=(0,b.k)(r,12);break;case"month":default:s=(0,x.a)(r,12);break;case"quarter":s=(0,y.c)(r,4);break;case"year":s=(0,w.d)(r,5)}e.filter(e=>{const t=new Date(e.date);return t>=s&&t<=r&&e.amount<0}).forEach(e=>{const t=e.category||"Uncategorized",r=Math.abs(e.amount);a.set(t,(a.get(t)||0)+r)});return Array.from(a.entries()).map(e=>{let[t,a]=e;return{label:t,value:a,date:(new Date).toISOString()}}).sort((e,t)=>t.value-e.value).slice(0,8)},T=e=>{switch(e){case"day":case"week":default:return"MMM dd";case"month":return"MMM yyyy";case"quarter":return"Qo yyyy";case"year":return"yyyy"}},P=(e,t)=>{switch(t){case"day":return(0,v.o)(e);case"week":return(0,j.k)(e);case"month":default:return(0,B.w)(e);case"quarter":return(0,S.a)(e);case"year":return(0,k.D)(e)}},R=(e,t)=>{switch(t){case"day":return(0,N.D)(e);case"week":return(0,D.$)(e);case"month":default:return(0,C.p)(e);case"quarter":return(0,E.j)(e);case"year":return(0,A.Q)(e)}},L=e=>{let{budgets:t,transactions:a,period:s,height:n=300,className:o="",onDataPointClick:i,loading:l=!1,error:c=null}=e;const d=(0,r.useMemo)(()=>{if(!t.length)return{labels:[],datasets:[]};const e=t.filter(e=>e.isActive).map(e=>{const t=a.filter(t=>t.category===e.category&&new Date(t.date)>=new Date(e.startDate)&&new Date(t.date)<=new Date(e.endDate)&&t.amount<0),r=Math.abs(t.reduce((e,t)=>e+t.amount,0));return{category:e.category,budgeted:e.amount,actual:r,remaining:e.amount-r,percentage:r/e.amount*100}});e.sort((e,t)=>t.percentage-e.percentage);const r=e.map(e=>e.category),s=e.map(e=>e.budgeted),n=e.map(e=>e.actual);return{labels:r,datasets:[{label:"Budgeted",data:s,backgroundColor:M.blue,borderColor:M.blue,borderWidth:2,borderRadius:4,borderSkipped:!1},{label:"Actual",data:n,backgroundColor:e.map(e=>e.percentage>100?M.red:e.percentage>80?M.orange:M.green),borderColor:e.map(e=>e.percentage>100?M.red:e.percentage>80?M.orange:M.green),borderWidth:2,borderRadius:4,borderSkipped:!1}]}},[t,a,s]),u=(0,r.useMemo)(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!1},legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"#374151",borderWidth:1,cornerRadius:8,displayColors:!0,callbacks:{label:function(e){const a=e.dataset.label||"",r=e.parsed.y,s=e.label,n=t.find(e=>e.category===s);if(n&&1===e.datasetIndex){const e=r/n.amount*100,t=e>100?"Over Budget":e>80?"Near Limit":"On Track";return`${a}: $${r.toLocaleString()} (${e.toFixed(1)}% - ${t})`}return`${a}: $${r.toLocaleString()}`}}}},scales:{x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:0}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{callback:function(e){return"$"+e.toLocaleString()}}}},interaction:{intersect:!1,mode:"index"}}),[t]);return l?(0,m.jsx)("div",{className:`bg-white rounded-lg shadow-sm border p-6 ${o}`,children:(0,m.jsxs)("div",{className:"animate-pulse",children:[(0,m.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),(0,m.jsx)("div",{className:"h-64 bg-gray-200 rounded"})]})}):c?(0,m.jsx)("div",{className:`bg-white rounded-lg shadow-sm border p-6 ${o}`,children:(0,m.jsx)("div",{className:"text-center text-red-600",children:(0,m.jsxs)("p",{children:["Error loading budget chart: ",c]})})}):t.length?(0,m.jsx)("div",{className:`bg-white rounded-lg shadow-sm border p-6 ${o}`,children:(0,m.jsx)(h,{type:"bar",data:d,options:u,height:n,width:"100%",onChartClick:(e,a)=>{if(a.length>0&&i){const e=a[0].index,r=a[0].datasetIndex,s=d.labels[e],n=t.find(e=>e.category===s);n&&i({category:s,budgeted:n.amount,actual:d.datasets[1].data[e],type:0===r?"budgeted":"actual",budget:n})}},loading:l,error:c})}):(0,m.jsx)("div",{className:`bg-white rounded-lg shadow-sm border p-6 ${o}`,children:(0,m.jsx)("div",{className:"text-center py-8",children:(0,m.jsx)("p",{className:"text-gray-500",children:"No budgets found. Create budgets to see spending comparisons."})})})},O=e=>{let{chartType:t,transactions:a,accounts:s,period:n,budgets:o=[],height:i=300,className:l="",onDataPointClick:c,loading:d=!1,error:u=null,customOptions:g={}}=e;const p=(0,r.useMemo)(()=>U(t,n),[t,n]),b=(0,r.useMemo)(()=>{switch(t){case"balance":{const e=I(a,s,n);return{labels:e.map(e=>e.label),datasets:[{label:"Balance",data:e.map(e=>e.value),borderColor:M.primary,backgroundColor:M.primary+"20",fill:!0,tension:.4}]}}case"income-expense":{const{income:e,expenses:t}=F(a,n);return{labels:e.map(e=>e.label),datasets:[{label:"Income",data:e.map(e=>e.value),backgroundColor:M.success,borderColor:M.success},{label:"Expenses",data:t.map(e=>e.value),backgroundColor:M.danger,borderColor:M.danger}]}}case"category":{const e=$(a,n);return{labels:e.map(e=>e.label),datasets:[{label:"Spending",data:e.map(e=>e.value),backgroundColor:e.map((e,t)=>Object.values(M)[t%Object.keys(M).length]),borderColor:e.map((e,t)=>Object.values(M)[t%Object.keys(M).length])}]}}default:return{labels:[],datasets:[]}}},[t,a,s,n]),x=(0,r.useMemo)(()=>({...z(t,p.title),...g}),[t,p.title,g]);return"budget-vs-actual"===t?(0,m.jsx)(L,{budgets:o,transactions:a,period:n,height:i,className:l,onDataPointClick:e=>null===c||void 0===c?void 0:c(e,t),loading:d,error:u}):d?(0,m.jsx)("div",{className:`bg-white rounded-lg shadow-sm border p-6 ${l}`,children:(0,m.jsxs)("div",{className:"animate-pulse",children:[(0,m.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),(0,m.jsx)("div",{className:"h-64 bg-gray-200 rounded"})]})}):u?(0,m.jsx)("div",{className:`bg-white rounded-lg shadow-sm border p-6 ${l}`,children:(0,m.jsx)("div",{className:"text-center text-red-600",children:(0,m.jsxs)("p",{children:["Error loading chart: ",u]})})}):(0,m.jsx)("div",{className:`bg-white rounded-lg shadow-sm border p-6 ${l}`,children:(0,m.jsx)(h,{type:Y(t),data:b,options:x,height:i,width:"100%",onChartClick:(e,r)=>{if(r.length>0&&c){const e=r[0].index,o=r[0].datasetIndex;let i;switch(t){case"balance":i=I(a,s,n)[e];break;case"income-expense":const{income:t,expenses:r}=F(a,n);i=0===o?t[e]:r[e],i.type=0===o?"income":"expense";break;case"category":i=$(a,n)[e];break;default:i=null}i&&c(i,t)}},loading:d,error:u})})},U=(e,t)=>{t.charAt(0).toUpperCase(),t.slice(1);switch(e){case"balance":return{title:"Balance Trend",description:`Shows your account balance over the ${t} period`};case"income-expense":return{title:"Income vs Expenses",description:`Compares your income and expenses for the ${t}`};case"category":return{title:"Spending by Category",description:`Breakdown of your spending by category for the ${t}`};case"budget-vs-actual":return{title:"Budget vs Actual",description:`Shows how your spending compares to your budget for the ${t}`};default:return{title:"Chart",description:"Financial data visualization"}}},Y=e=>{switch(e){case"balance":default:return"line";case"income-expense":case"budget-vs-actual":return"bar";case"category":return"doughnut"}},z=(e,t)=>{const a={responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!1},legend:{position:"bottom",labels:{usePointStyle:!0,padding:20,font:{size:12},color:"#374151"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"#374151",borderWidth:1,cornerRadius:8,displayColors:!0}}};switch(e){case"balance":return{...a,scales:{y:{ticks:{callback:function(e){return"$"+e.toLocaleString()}}}},plugins:{...a.plugins,tooltip:{...a.plugins.tooltip,callbacks:{label:function(e){return`Balance: $${e.parsed.y.toLocaleString()}`}}}}};case"income-expense":return{...a,scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{callback:function(e){return"$"+e.toLocaleString()}}}},plugins:{...a.plugins,tooltip:{...a.plugins.tooltip,callbacks:{label:function(e){return`${e.dataset.label||""}: $${e.parsed.y.toLocaleString()}`}}}}};case"category":return{...a,plugins:{...a.plugins,legend:{position:"right",labels:{usePointStyle:!0,padding:15,font:{size:11}}},tooltip:{...a.plugins.tooltip,callbacks:{label:function(e){const t=e.label||"",a=e.parsed,r=(a/e.dataset.data.reduce((e,t)=>e+t,0)*100).toFixed(1);return`${t}: $${a.toLocaleString()} (${r}%)`}}}}};default:return a}};var q=a(7008),W=a(4068),Z=a(1097),G=a(8867);const H=[{type:"balance",title:"Balance Trend",description:"Track your account balance over time"},{type:"income-expense",title:"Income vs Expenses",description:"Compare your income and spending patterns"},{type:"category",title:"Spending by Category",description:"See where your money is going"},{type:"budget-vs-actual",title:"Budget vs Actual",description:"Compare your spending to your budgets"}],_=e=>{let{transactions:t,accounts:a,period:s,budgets:n=[],loading:o=!1,error:l=null,onExport:c,onRefresh:d}=e;const[u,g]=(0,r.useState)(null),[h,p]=(0,r.useState)(!1),b=async()=>{if(d){p(!0);try{await d()}finally{p(!1)}}},x=(e,t)=>{console.log(`${t} data point clicked:`,e)};return(0,m.jsxs)("div",{className:"space-y-6",children:[(0,m.jsx)("div",{className:"grid grid-cols-1 gap-6 max-w-full",children:H.map(e=>{const r=u===e.type;return(0,m.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border transition-all duration-300",children:[(0,m.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),(0,m.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,m.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,m.jsxs)(i.$,{onClick:c,disabled:o,variant:"outline",size:"sm",className:"flex items-center space-x-1",children:[(0,m.jsx)(q.A,{className:"w-4 h-4"}),(0,m.jsx)("span",{children:"Export"})]}),(0,m.jsxs)(i.$,{onClick:b,disabled:h,variant:"outline",size:"sm",className:"flex items-center space-x-1",children:[(0,m.jsx)(W.A,{className:"w-4 h-4 "+(h?"animate-spin":"")}),(0,m.jsx)("span",{children:"Refresh"})]}),(0,m.jsx)(i.$,{onClick:()=>{return t=e.type,void g(u===t?null:t);var t},variant:"outline",size:"sm",className:"flex items-center space-x-1",children:r?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Z.A,{className:"w-4 h-4"}),(0,m.jsx)("span",{children:"Collapse"})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(G.A,{className:"w-4 h-4"}),(0,m.jsx)("span",{children:"Expand"})]})})]})]})}),(0,m.jsx)("div",{className:"p-4",children:(0,m.jsx)(O,{chartType:e.type,transactions:t,accounts:a,period:s,budgets:n,height:r?600:200,loading:o,error:l,onDataPointClick:x})})]},e.type)})}),o&&(0,m.jsxs)("div",{className:"text-center py-8",children:[(0,m.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,m.jsx)("p",{className:"text-gray-600 mt-2",children:"Loading charts..."})]}),l&&(0,m.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,m.jsxs)("div",{className:"flex",children:[(0,m.jsx)("div",{className:"flex-shrink-0",children:(0,m.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,m.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,m.jsx)("div",{className:"ml-3",children:(0,m.jsxs)("p",{className:"text-sm text-red-800",children:["Error loading charts: ",l]})})]})})]})},Q={format:"csv",includeHeaders:!0,dateFormat:"YYYY-MM-DD",currencyFormat:"USD"};function J(e,t){if(!e||0===e.length)return"";const a=t||Object.keys(e[0]);return[a.map(e=>`"${e}"`).join(","),...e.map(e=>a.map(t=>{const a=e[t];return null===a||void 0===a?'""':"string"===typeof a?`"${a.replace(/"/g,'""')}"`:"number"===typeof a?a.toString():"boolean"===typeof a?a?"true":"false":a instanceof Date?`"${a.toISOString().split("T")[0]}"`:`"${JSON.stringify(a).replace(/"/g,'""')}"`}).join(","))].join("\n")}function K(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)}function V(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";const a=new Date(e),r=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0");switch(t){case"MM/DD/YYYY":return`${s}/${n}/${r}`;case"DD/MM/YYYY":return`${n}/${s}/${r}`;default:return`${r}-${s}-${n}`}}function X(e,t){const a=new Blob([e],{type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/csv"}),r=URL.createObjectURL(a),s=document.createElement("a");s.href=r,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)}function ee(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"transactions.csv";const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a={...Q,...t};return J(e.map(e=>{var t,r;return{Date:V(e.date,a.dateFormat),Description:e.description,Amount:K(e.amount,a.currencyFormat),Category:e.category,AccountID:e.accountId,Tags:(null===(t=e.tags)||void 0===t?void 0:t.join(", "))||"",Merchant:(null===(r=e.cleanMerchant)||void 0===r?void 0:r.cleanName)||"",TransactionID:e.id,Status:e.pending?"Pending":"Cleared",Notes:e.notes||""}}),a.includeHeaders?["Date","Description","Amount","Category","AccountID","Tags","Merchant","TransactionID","Status","Notes"]:void 0)}(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});X(a,t)}function te(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"financial-summary.csv";const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a={...Q,...t};return J([{Period:e.period,TotalBalance:K(e.totalBalance,a.currencyFormat),TotalIncome:K(e.totalIncome,a.currencyFormat),TotalExpenses:K(e.totalExpenses,a.currencyFormat),NetSavings:K(e.netSavings,a.currencyFormat)}],a.includeHeaders?["Period","TotalBalance","TotalIncome","TotalExpenses","NetSavings"]:void 0)}(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});X(a,t)}var ae=a(1437),re=a(8247);var se=a(2537);const ne=r.lazy(()=>a.e(129).then(a.bind(a,8129)).then(e=>({default:e.AccountDetail}))),oe=r.lazy(()=>a.e(440).then(a.bind(a,3440)).then(e=>({default:e.KPISection}))),ie=r.lazy(()=>a.e(738).then(a.bind(a,6738)).then(e=>({default:e.AccountOverview}))),le=r.lazy(()=>Promise.all([a.e(358),a.e(66)]).then(a.bind(a,66)).then(e=>({default:e.RecentActivity}))),ce=r.lazy(()=>a.e(898).then(a.bind(a,1898)).then(e=>({default:e.BudgetOverview}))),de=r.lazy(()=>a.e(100).then(a.bind(a,3100)).then(e=>({default:e.BudgetForm}))),ue=()=>{const{state:e,viewAccountDetail:t,accountFilter:a,changePeriod:u}=(0,s.x)(),[g,h]=(0,r.useState)(!1),[p,b]=(0,r.useState)(null),{budgets:x}=(0,se.l)(),y=(e=>{let{accounts:t,accountFilter:a,selectedPeriod:s,customDateRange:n,isLoading:o}=e;const i=(0,r.useMemo)(()=>t.filter(e=>"both"===a||("personal"===a?!e.type.includes("BUSINESS"):"business"!==a||e.type.includes("BUSINESS"))),[t,a]),l=(0,r.useMemo)(()=>i.reduce((e,t)=>e+t.balance,0),[i]),c=(0,r.useMemo)(()=>t.flatMap(e=>e.transactions||[]),[t]),d=(0,r.useMemo)(()=>{const e=(0,re.Ac)(t,a);return(0,ae.Y)(e,s,n,l)},[t,a,s,n,l]),u=(0,r.useMemo)(()=>{const e=(0,re.Ac)(t,a);return(0,ae.Td)(e,s)},[t,a,s]),g=t.length>0;return{filteredAccounts:i,filteredTotalBalance:l,filteredSummary:d,trendData:u,allTransactions:c,hasAccounts:g}})({accounts:e.accounts,accountFilter:a,selectedPeriod:e.selectedPeriod,customDateRange:e.customDateRange,isLoading:e.isLoading}),{filteredAccounts:w,filteredSummary:f,trendData:v,allTransactions:j,hasAccounts:B}=y,S=e.isLoading,{isExporting:k,exportError:N,handleExportTransactions:D,handleExportSummary:C,refreshCharts:E}=((e,t,a,s)=>{const[n,o]=(0,r.useState)(!1),[i,l]=(0,r.useState)(null),c=(0,r.useMemo)(()=>{const r=t.reduce((e,t)=>e+t.balance,0),s=e.filter(e=>{const t=new Date(e.date),r=new Date;let s;switch(a){case"day":s=new Date(r.getFullYear(),r.getMonth(),r.getDate());break;case"week":s=new Date(r.getTime()-6048e5);break;case"month":default:s=new Date(r.getFullYear(),r.getMonth(),1);break;case"quarter":const e=Math.floor(r.getMonth()/3);s=new Date(r.getFullYear(),3*e,1);break;case"year":s=new Date(r.getFullYear(),0,1)}return t>=s&&t<=r}),n=s.filter(e=>e.amount>0).reduce((e,t)=>e+t.amount,0),o=Math.abs(s.filter(e=>e.amount<0).reduce((e,t)=>e+t.amount,0)),i=n-o,l=n>0?i/n*100:0,c=new Map;s.filter(e=>e.amount<0).forEach(e=>{const t=e.category||"Uncategorized";c.set(t,(c.get(t)||0)+Math.abs(e.amount))});const d=Array.from(c.entries()).sort((e,t)=>{let[,a]=e,[,r]=t;return r-a})[0]||["None",0];return{totalBalance:r,totalIncome:n,totalExpenses:o,netFlow:i,savingsRate:l,topCategory:d[0],topCategoryAmount:d[1]}},[e,t,a]),d=(0,r.useCallback)(async()=>{o(!0),l(null);try{let t=[...e];s.dateRange&&(t=t.filter(e=>{const t=new Date(e.date),a=new Date(s.dateRange.start),r=new Date(s.dateRange.end);return t>=a&&t<=r})),s.categories&&s.categories.length>0&&(t=t.filter(e=>s.categories.includes(e.category))),ee(t,`transactions_${a}_${(new Date).toISOString().split("T")[0]}.csv`)}catch(t){l(t instanceof Error?t.message:"Export failed")}finally{o(!1)}},[e,s,a]),u=(0,r.useCallback)(async()=>{o(!0),l(null);try{te({totalBalance:c.totalBalance,totalIncome:c.totalIncome,totalExpenses:c.totalExpenses,netSavings:c.netFlow,period:a},`financial_summary_${a}_${(new Date).toISOString().split("T")[0]}.csv`)}catch(e){l(e instanceof Error?e.message:"Export failed")}finally{o(!1)}},[c,a]),g=(0,r.useMemo)(()=>({balanceTrend:{transactions:e,accounts:t,period:a},incomeExpense:{transactions:e,period:a},categorySpending:{transactions:e,period:a},summary:c}),[e,t,a,c]),m=(0,r.useCallback)(()=>Promise.resolve(),[]);return{chartData:g,summary:c,isExporting:n,exportError:i,handleExportTransactions:d,handleExportSummary:u,refreshCharts:m}})(j,w,e.selectedPeriod,e.filters),A="true"===localStorage.getItem("financeapp-demo-mode")||"true"===new URLSearchParams(window.location.search).get("demo");return"account-detail"===e.currentScreen?(0,m.jsx)(r.Suspense,{fallback:(0,m.jsx)(l.Rs,{text:"Loading Account Details..."}),children:(0,m.jsx)(ne,{})}):S?(0,m.jsx)(l.Rs,{text:"Loading your financial data..."}):B?(0,m.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,m.jsx)(n.a,{}),(0,m.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[A&&(0,m.jsx)("div",{className:"mb-6 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg p-4 shadow-lg",children:(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,m.jsx)("span",{className:"text-2xl",children:"\ud83c\udfaf"}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h3",{className:"font-semibold text-lg",children:"Demo Mode Active"}),(0,m.jsx)("p",{className:"text-blue-100 text-sm",children:"You're viewing sample data. Sign in to connect your real accounts."})]})]}),(0,m.jsx)("button",{onClick:()=>{localStorage.removeItem("financeapp-demo-mode"),window.location.href="/"},className:"bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Sign In"})]})}),e.error&&(0,m.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:(0,m.jsxs)("div",{className:"flex",children:[(0,m.jsx)("div",{className:"flex-shrink-0",children:(0,m.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,m.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,m.jsx)("div",{className:"ml-3",children:(0,m.jsx)("p",{className:"text-sm text-red-800",children:e.error})})]})}),(0,m.jsx)("div",{className:"flex justify-center mb-6",children:(0,m.jsx)("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1",children:o.DU.map(t=>(0,m.jsx)("button",{onClick:()=>{"custom"===t?alert("Custom date picker coming soon!"):u(t)},className:"px-3 py-1.5 rounded-md text-sm font-medium transition-all "+(e.selectedPeriod===t?"bg-white shadow-sm text-blue-600":"text-gray-600 hover:text-gray-800"),children:"day"===t?"D":"week"===t?"W":"month"===t?"M":"quarter"===t?"Q":"year"===t?"Y":"5year"===t?"5Y":"custom"===t?"Custom":t},t))})}),(0,m.jsx)("div",{className:"mb-6",children:(0,m.jsx)(r.Suspense,{fallback:(0,m.jsx)(l.Zu,{}),children:(0,m.jsx)(oe,{summary:f,totalBalance:f.totalBalance,period:e.selectedPeriod,budgets:x,balanceTrend:null===v||void 0===v?void 0:v.balance,incomeTrend:null===v||void 0===v?void 0:v.income,expenseTrend:null===v||void 0===v?void 0:v.expenses,savingsTrend:null===v||void 0===v?void 0:v.savings})})}),(0,m.jsx)("div",{className:"mb-6",children:(0,m.jsx)(r.Suspense,{fallback:(0,m.jsx)(l.Zu,{}),children:(0,m.jsx)(ie,{accounts:w,onAccountSelect:t,accountFilter:a})})}),(0,m.jsx)("div",{className:"mb-6",children:(0,m.jsx)(_,{transactions:j,accounts:w,period:e.selectedPeriod,budgets:x,loading:S,error:e.error,onExport:D,onRefresh:E})}),(0,m.jsxs)("div",{className:"mb-6",children:[(0,m.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,m.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Budget Management"}),(0,m.jsxs)(i.$,{onClick:()=>h(!0),className:"flex items-center space-x-2",children:[(0,m.jsx)(d.A,{className:"w-4 h-4"}),(0,m.jsx)("span",{children:"Add Budget"})]})]}),(0,m.jsx)(r.Suspense,{fallback:(0,m.jsx)(l.Zu,{}),children:(0,m.jsx)(ce,{onBudgetSelect:b})})]}),(0,m.jsx)("div",{className:"mb-6",children:(0,m.jsx)(r.Suspense,{fallback:(0,m.jsx)(l.Zu,{}),children:(0,m.jsx)(le,{accounts:w,limit:10})})})]}),g&&(0,m.jsx)(r.Suspense,{fallback:(0,m.jsx)(l.Rs,{text:"Loading Budget Form..."}),children:(0,m.jsx)(de,{budget:p,onSave:e=>{h(!1)},onCancel:()=>h(!1),isOpen:g})})]}):(0,m.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,m.jsx)(n.a,{}),(0,m.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,m.jsxs)("div",{className:"text-center py-12",children:[(0,m.jsx)(c.A,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),(0,m.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Welcome to FinanceApp"}),(0,m.jsx)("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Connect your bank accounts to get started with smart financial management. We'll help you track spending, categorize transactions, and gain insights into your financial health."}),(0,m.jsx)(i.$,{onClick:()=>alert("Bank connection coming soon!"),children:"Connect Your First Account"})]}),(0,m.jsxs)("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:(0,m.jsx)("span",{className:"text-2xl",children:"\ud83d\udcca"})}),(0,m.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Smart Analytics"}),(0,m.jsx)("p",{className:"text-gray-600",children:"Get insights into your spending patterns and financial trends with interactive charts and KPIs."})]}),(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:(0,m.jsx)("span",{className:"text-2xl",children:"\ud83c\udfaf"})}),(0,m.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Budget Management"}),(0,m.jsx)("p",{className:"text-gray-600",children:"Set budgets, track spending, and get alerts when you're approaching your limits."})]}),(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:(0,m.jsx)("span",{className:"text-2xl",children:"\ud83d\udd12"})}),(0,m.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Secure & Private"}),(0,m.jsx)("p",{className:"text-gray-600",children:"Your data is protected with 256-bit encryption and industry-leading security practices."})]})]})]})]})}},7943:(e,t,a)=>{a.d(t,{a:()=>d});a(5043);var r=a(7395),s=a(8283),n=a(5923),o=a(8775),i=a(9445),l=a(4068),c=a(579);const d=()=>{const{state:e,isPrivacyMode:t,togglePrivacyMode:a,accountFilter:d,setAccountFilter:u}=(0,r.x)(),g="true"===localStorage.getItem("financeapp-demo-mode")||"true"===new URLSearchParams(window.location.search).get("demo");return(0,c.jsx)("header",{className:"bg-white shadow-sm border-b sticky top-0 z-40",children:(0,c.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,c.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,c.jsx)("div",{className:"flex items-center",children:(0,c.jsxs)("div",{className:"flex-shrink-0 flex items-center",children:[(0,c.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center mr-3",children:(0,c.jsx)("span",{className:"text-white font-bold text-sm",children:"F"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"FinanceApp"}),(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"DEMO"}),g&&(0,c.jsxs)("button",{onClick:()=>{localStorage.removeItem("financeapp-demo-mode"),window.location.href="/"},className:"text-xs bg-red-100 text-red-800 px-2 py-0.5 rounded hover:bg-red-200 transition-colors flex items-center space-x-1",title:"Exit Demo Mode",children:[(0,c.jsx)(i.A,{className:"w-3 h-3"}),(0,c.jsx)("span",{children:"Exit Demo"})]})]})]})]})}),e.accounts.length>0&&(0,c.jsxs)("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1",children:[(0,c.jsx)("button",{onClick:()=>u("personal"),className:"px-3 py-1.5 rounded-md text-sm font-medium transition-all "+("personal"===d?"bg-white shadow-sm text-blue-600":"text-gray-600 hover:text-gray-800"),children:"Personal"}),(0,c.jsx)("button",{onClick:()=>u("business"),className:"px-3 py-1.5 rounded-md text-sm font-medium transition-all "+("business"===d?"bg-white shadow-sm text-blue-600":"text-gray-600 hover:text-gray-800"),children:"Business"}),(0,c.jsx)("button",{onClick:()=>u("both"),className:"px-3 py-1.5 rounded-md text-sm font-medium transition-all "+("both"===d?"bg-white shadow-sm text-blue-600":"text-gray-600 hover:text-gray-800"),children:"Both"})]}),(0,c.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,c.jsx)("button",{onClick:()=>{alert("Refreshing data...")},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",title:"Refresh data",children:(0,c.jsx)(l.A,{className:"w-5 h-5"})}),(0,c.jsx)("button",{onClick:a,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",title:t?"Show amounts":"Hide amounts",children:t?(0,c.jsx)(n.A,{className:"w-5 h-5"}):(0,c.jsx)(o.A,{className:"w-5 h-5"})}),(0,c.jsxs)("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors relative",children:[(0,c.jsx)(s.A,{className:"w-5 h-5"}),(0,c.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),(0,c.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:(0,c.jsx)("span",{className:"text-white text-sm font-medium",children:"JD"})})]})]})})})}}}]);
//# sourceMappingURL=210.06203d2f.chunk.js.map